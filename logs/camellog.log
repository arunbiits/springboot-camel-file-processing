14-07-2020 07:03:57.834 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:03:57.847 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:03:57.851 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:03:58.078 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:03:58.198 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:03:58.230 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@41a0aa7d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2794eab6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6340e5f0, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@45099dd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@13e344d, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1ffaf86, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6574a52c, org.springframework.test.context.event.EventPublishingTestExecutionListener@6c1a5b54, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1c7696c6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@60099951, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@20140db9, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1e6a3214, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@368247b9, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1a6d8329]
14-07-2020 07:03:58.259 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:03:58.763 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 26111 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:03:58.764 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:04:00.522 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$25f5d5e2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:04:01.335 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:04:02.838 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:04:03.082 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:04:03.084 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:04:03.099 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 4.769 seconds (JVM running for 6.607)
14-07-2020 07:04:03.133 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:04:03.155 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:04:03.181 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:04:03.182 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:04:03.183 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:04:03.185 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:04:03.187 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:04:03.621 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:04:03.732 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:04:03.735 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:04:03.747 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:04:03.750 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.564 seconds
14-07-2020 07:04:04.115 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.setUp - ********************************************************************************
14-07-2020 07:04:04.116 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.setUp - Testing: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:04:04.117 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.setUp - ********************************************************************************
14-07-2020 07:04:04.118 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:04:04.118 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:04:04.119 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 5.860 seconds (5860 millis)
14-07-2020 07:04:04.120 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:04:04.135 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:04:04.137 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:04:04.150 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:04:04.151 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:04:04.152 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:04:04.172 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.988 seconds
14-07-2020 07:04:04.175 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.040 seconds
14-07-2020 07:04:04.180 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:04:04.184 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:04:04.185 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:04:04.185 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.433 seconds (433 millis)
14-07-2020 07:04:04.186 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:04:04.186 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:06:04.204 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:06:04.232 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:06:04.234 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:06:04.472 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:06:04.629 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:06:04.655 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 07:06:04.723 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:06:05.263 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 26701 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:06:05.265 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:06:07.120 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$dd754146] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:06:08.077 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:06:09.253 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:06:09.518 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:06:09.519 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:06:09.534 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 4.748 seconds (JVM running for 6.412)
14-07-2020 07:06:09.569 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:06:09.587 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:06:09.613 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:06:09.614 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:06:09.615 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:06:09.616 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:06:09.617 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:06:10.201 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:06:10.312 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:06:10.314 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:06:10.325 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:06:10.327 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.709 seconds
14-07-2020 07:06:10.741 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@66298fe9
14-07-2020 07:06:10.883 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594690570542-0-2 on ExchangeId: ID-arun-1594690570542-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690570542-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [       338]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690570542-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 07:06:10.899 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:06:10.900 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:06:10.901 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 6.177 seconds (6177 millis)
14-07-2020 07:06:10.901 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:06:10.912 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:06:10.914 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:06:10.925 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:06:10.927 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:06:10.929 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:06:10.994 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.378 seconds
14-07-2020 07:06:10.995 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.083 seconds
14-07-2020 07:06:11.000 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:06:11.006 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:06:11.007 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:06:11.007 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.678 seconds (678 millis)
14-07-2020 07:06:11.009 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:06:11.009 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:07:15.511 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:07:15.517 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:07:15.518 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:07:15.676 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:07:15.926 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:07:15.968 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 07:07:16.005 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:07:16.564 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 27180 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:07:16.565 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:07:18.028 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$bfff3728] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:07:18.819 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:07:20.012 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:07:20.233 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:07:20.234 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:07:20.256 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 4.153 seconds (JVM running for 5.633)
14-07-2020 07:07:20.292 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:07:20.313 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:07:20.354 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:07:20.356 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:07:20.358 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:07:20.361 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:07:20.362 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:07:20.770 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:07:20.868 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:07:20.871 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:07:20.880 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:07:20.881 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.519 seconds
14-07-2020 07:07:21.333 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@677cc4e8
14-07-2020 07:07:21.458 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594690641077-0-2 on ExchangeId: ID-arun-1594690641077-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690641077-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [       379]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690641077-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 07:07:21.465 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:07:21.465 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:07:21.466 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 5.461 seconds (5461 millis)
14-07-2020 07:07:21.466 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:07:21.473 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:07:21.475 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:07:21.482 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:07:21.487 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:07:21.488 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:07:21.500 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.139 seconds
14-07-2020 07:07:21.500 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.027 seconds
14-07-2020 07:07:21.503 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:07:21.506 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:07:21.507 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:07:21.508 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.624 seconds (624 millis)
14-07-2020 07:07:21.508 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:07:21.508 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:08:45.608 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:08:45.617 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:08:45.619 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:08:45.894 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:08:46.113 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:08:46.157 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6aecbb8d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1af146, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4da602fc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a8d39c4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@25b2cfcb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72758afa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fb9c7aa, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c398c80, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7fc6de5b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@21baa903, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@607fbe09, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@60a2630a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29df4d43, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5dd91bca]
14-07-2020 07:08:46.209 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:08:46.843 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 27629 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:08:46.844 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:08:48.851 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$86fbf26d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:08:49.760 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:08:51.202 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:08:51.549 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:08:51.552 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:08:51.574 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 5.282 seconds (JVM running for 7.348)
14-07-2020 07:08:51.622 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:08:51.655 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:08:51.686 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:08:51.693 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:08:51.696 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:08:51.698 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:08:51.700 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:08:52.274 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:08:52.365 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:08:52.367 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:08:52.374 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:08:52.376 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.676 seconds
14-07-2020 07:08:52.808 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@28d56028
14-07-2020 07:08:52.923 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594690732589-0-2 on ExchangeId: ID-arun-1594690732589-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690732589-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [       332]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690732589-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 07:08:52.930 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:08:52.931 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:08:52.931 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 6.722 seconds (6722 millis)
14-07-2020 07:08:52.932 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:08:52.939 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:08:52.941 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:08:52.954 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:08:52.955 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:08:52.956 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:08:52.966 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.267 seconds
14-07-2020 07:08:52.966 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.027 seconds
14-07-2020 07:08:52.968 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:08:52.970 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:08:52.971 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:08:52.972 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.593 seconds (593 millis)
14-07-2020 07:08:52.973 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:08:52.973 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:09:21.358 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication on arun with PID 28137 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/classes started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:09:21.361 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 07:09:22.788 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$3c4315c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:09:23.033 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
14-07-2020 07:09:23.041 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
14-07-2020 07:09:23.042 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
14-07-2020 07:09:23.042 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
14-07-2020 07:09:23.096 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
14-07-2020 07:09:23.096 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1688 ms
14-07-2020 07:09:23.445 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:09:24.087 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:09:24.134 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
14-07-2020 07:09:24.150 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
14-07-2020 07:09:24.275 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:09:24.277 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:09:24.288 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:09:24.290 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:09:24.555 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:09:24.630 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 07:09:24.632 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 07:09:24.641 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:09:24.641 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.353 seconds
14-07-2020 07:09:24.646 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.792 seconds (JVM running for 4.971)
14-07-2020 07:09:24.801 [RMI TCP Connection(2)-127.0.0.1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
14-07-2020 07:09:24.802 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
14-07-2020 07:09:24.807 [RMI TCP Connection(1)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
14-07-2020 07:09:24.809 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 7 ms
14-07-2020 07:09:25.060 [RMI TCP Connection(1)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
14-07-2020 07:09:25.652 [Camel (camel-1) thread #2 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 07:09:25.749 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@40f69bf2
14-07-2020 07:09:40.211 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 07:09:40.218 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 07:09:57.898 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 07:09:57.899 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 07:10:05.359 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:10:05.372 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:10:05.373 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:10:05.516 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:10:05.713 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:10:05.760 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 07:10:05.798 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:10:06.350 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 28619 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:10:06.351 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:10:07.976 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c727fc3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:10:08.910 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:10:10.376 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:10:10.638 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:10:10.640 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:10:10.660 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 4.768 seconds (JVM running for 6.374)
14-07-2020 07:10:10.696 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:10:10.720 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:10:10.746 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:10:10.748 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:10:10.749 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:10:10.750 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:10:10.751 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:10:11.285 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:10:11.410 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:10:11.411 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:10:11.420 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:10:11.422 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.670 seconds
14-07-2020 07:10:11.853 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@8432469
14-07-2020 07:10:14.233 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 07:10:14.235 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 07:10:29.587 [main] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 07:10:29.621 [main] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 07:10:29.625 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:10:29.626 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:10:29.626 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 23.828 seconds (23828 millis)
14-07-2020 07:10:29.626 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:10:29.633 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:10:29.634 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:10:29.648 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:10:29.649 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:10:29.650 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:10:29.679 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 18.929 seconds
14-07-2020 07:10:29.679 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.046 seconds
14-07-2020 07:10:29.681 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:10:29.683 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:10:29.683 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:10:29.683 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 18.260 seconds (18260 millis)
14-07-2020 07:10:29.684 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:10:29.684 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:10:29.864 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 07:10:29.869 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 07:10:40.471 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:10:40.472 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:10:40.485 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:40.487 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=74829, duration=74845]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=10615, duration=10615]
14-07-2020 07:10:41.490 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:41.492 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=75833, duration=75849]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=11619, duration=11619]
14-07-2020 07:10:42.494 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:42.496 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=76838, duration=76854]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=12624, duration=12624]
14-07-2020 07:10:43.497 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:43.498 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=77840, duration=77856]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=13626, duration=13626]
14-07-2020 07:10:44.499 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:44.500 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=78842, duration=78858]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=14628, duration=14628]
14-07-2020 07:10:45.501 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:45.502 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=79844, duration=79860]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich1, elapsed=15630, duration=15630]
14-07-2020 07:10:46.113 [http-nio-8080-exec-7] WARN  o.s.b.a.mail.MailHealthIndicator.health - Mail health check failed
javax.mail.MessagingException: Could not convert socket to TLS
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1009)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1388)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1416)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1400)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 79 common frames omitted
Caused by: java.io.EOFException: SSL peer shut down incorrectly
	at sun.security.ssl.InputRecord.read(InputRecord.java:505)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	... 85 common frames omitted
14-07-2020 07:10:46.119 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"DOWN"}
14-07-2020 07:10:46.120 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=DOWN}
14-07-2020 07:10:46.121 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - Exception info -> statuscomponent in the route is down
14-07-2020 07:10:46.123 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> statuscomponent in the route is down
14-07-2020 07:10:46.505 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:46.507 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=80849, duration=80865]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=process2, elapsed=386, duration=16635]
14-07-2020 07:10:47.509 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:47.511 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=81853, duration=81869]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=process2, elapsed=1390, duration=17639]
14-07-2020 07:10:48.512 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:48.514 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=82856, duration=82872]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=process2, elapsed=2393, duration=18642]
14-07-2020 07:10:49.515 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:10:49.516 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=83858, duration=83874]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=process2, elapsed=3395, duration=19644]
14-07-2020 07:10:50.483 [Camel (camel-1) thread #3 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
14-07-2020 07:10:50.483 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
14-07-2020 07:10:50.484 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=84826, duration=84842]
	InflightExchange: [exchangeId=ID-arun-1594690765643-0-11, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=process2, elapsed=4363, duration=20612]
14-07-2020 07:10:50.486 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 07:10:50.488 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 07:10:50.488 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 10 seconds
14-07-2020 07:10:50.498 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
14-07-2020 07:10:50.508 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1 minute
14-07-2020 07:10:50.509 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.038 seconds
14-07-2020 07:10:50.530 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:10:50.531 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
14-07-2020 07:10:50.561 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
14-07-2020 07:11:10.568 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:11:10.580 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:11:10.581 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:11:10.868 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:11:11.002 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:11:11.025 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6aecbb8d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1af146, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4da602fc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a8d39c4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@25b2cfcb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72758afa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fb9c7aa, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c398c80, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7fc6de5b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@21baa903, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@607fbe09, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@60a2630a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29df4d43, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5dd91bca]
14-07-2020 07:11:11.063 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:11:11.748 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 29113 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:11:11.749 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:11:13.631 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$dfe176d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:11:14.493 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:11:15.922 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:11:16.247 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:11:16.248 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:11:16.266 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 5.096 seconds (JVM running for 7.069)
14-07-2020 07:11:16.314 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:11:16.345 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:11:16.384 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:11:16.385 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:11:16.387 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:11:16.389 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:11:16.390 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:11:16.939 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:11:17.030 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:11:17.034 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:11:17.044 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:11:17.045 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.656 seconds
14-07-2020 07:11:25.262 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@533d7c61
14-07-2020 07:11:25.905 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594690883953-0-2 on ExchangeId: ID-arun-1594690883953-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690883953-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [      1943]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594690883953-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 07:11:33.643 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:11:33.643 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:11:33.643 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 22.580 seconds (22580 millis)
14-07-2020 07:11:33.644 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:11:33.663 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:11:33.666 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:11:33.695 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:11:33.701 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:11:33.702 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:11:33.739 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 17.350 seconds
14-07-2020 07:11:33.739 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.076 seconds
14-07-2020 07:11:33.745 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:11:33.753 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:11:33.756 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:11:33.756 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 16.706 seconds (16706 millis)
14-07-2020 07:11:33.756 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:11:33.756 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:12:38.678 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:12:38.688 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:12:38.690 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:12:38.963 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:12:39.233 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:12:39.260 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6aecbb8d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1af146, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4da602fc, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2a8d39c4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@25b2cfcb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@72758afa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fb9c7aa, org.springframework.test.context.event.EventPublishingTestExecutionListener@4c398c80, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7fc6de5b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@21baa903, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@607fbe09, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@60a2630a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29df4d43, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5dd91bca]
14-07-2020 07:12:39.309 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:12:39.965 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 29636 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:12:39.966 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:12:41.822 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d5f7ae7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:13:51.889 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:13:53.529 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:15:17.941 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:15:17.941 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:15:17.960 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 158.579 seconds (JVM running for 160.521)
14-07-2020 07:15:18.022 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:15:18.047 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:15:18.085 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:15:18.086 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:15:18.088 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:15:18.090 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:15:18.091 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:15:18.640 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:15:18.760 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:15:18.763 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:15:18.772 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:15:18.775 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.683 seconds
14-07-2020 07:17:00.830 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@625db0e0
14-07-2020 07:17:00.951 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594691220546-0-2 on ExchangeId: ID-arun-1594691220546-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594691220546-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [       399]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594691220546-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 07:17:00.960 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:17:00.960 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:17:00.961 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 4 minutes (261652 millis)
14-07-2020 07:17:00.961 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:17:00.969 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:17:00.971 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:17:00.983 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:17:00.985 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:17:00.986 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:17:01.016 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1 minute
14-07-2020 07:17:01.017 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.047 seconds
14-07-2020 07:17:01.020 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:17:01.024 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:17:01.026 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:17:01.027 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 1 minute (102247 millis)
14-07-2020 07:17:01.027 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:17:01.027 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:17:24.217 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 07:17:24.225 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:17:24.226 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:17:24.509 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:17:24.704 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:17:24.751 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1cbf6e72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6aecbb8d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1af146, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4da602fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a8d39c4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25b2cfcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@72758afa, org.springframework.test.context.event.EventPublishingTestExecutionListener@fb9c7aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c398c80, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7fc6de5b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21baa903, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@607fbe09, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@60a2630a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@29df4d43]
14-07-2020 07:17:24.780 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 07:17:25.430 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 30324 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:17:25.433 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 07:17:27.717 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d7b16a43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:17:36.900 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:17:38.486 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:17:46.529 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:17:46.530 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:17:46.562 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 21.703 seconds (JVM running for 23.774)
14-07-2020 07:17:46.615 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:17:46.636 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 07:17:46.670 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:17:46.672 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:17:46.673 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:17:46.674 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:17:46.675 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:17:47.154 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:17:47.251 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 07:17:47.253 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 07:17:47.263 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:17:47.264 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.590 seconds
14-07-2020 07:17:54.298 [Camel (camel-1) thread #2 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 07:17:54.300 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:17:54.301 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:17:54.301 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 29.521 seconds (29521 millis)
14-07-2020 07:17:54.301 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 07:17:54.311 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:17:54.314 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:17:54.319 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 07:17:54.321 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-1, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=choice1, elapsed=2484, duration=2498]
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=choice4, elapsed=19, duration=2495]
14-07-2020 07:17:54.631 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@610f1343
14-07-2020 07:17:54.750 [Camel (camel-1) thread #1 - timer://myTimer2] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594691271825-0-4 on ExchangeId: ID-arun-1594691271825-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594691271825-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[timer://myTimer2?period=10000]                                           ] [      2925]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594691271825-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 11 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 22 common frames omitted
14-07-2020 07:17:54.753 [Camel (camel-1) thread #1 - timer://myTimer2] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594691271825-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-arun-1594691271825-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594691271825-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 11 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 22 common frames omitted
14-07-2020 07:17:55.328 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:17:55.328 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=993, duration=3502]
14-07-2020 07:17:56.329 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:17:56.330 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=1995, duration=4504]
14-07-2020 07:17:57.332 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:17:57.333 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=2998, duration=5507]
14-07-2020 07:17:58.337 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:17:58.339 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=4004, duration=6513]
14-07-2020 07:17:59.341 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:17:59.342 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=5007, duration=7516]
14-07-2020 07:18:00.344 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:18:00.344 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=6009, duration=8518]
14-07-2020 07:18:01.345 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:18:01.346 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=7011, duration=9520]
14-07-2020 07:18:02.349 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:18:02.350 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=8015, duration=10524]
14-07-2020 07:18:03.354 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 07:18:03.356 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=9021, duration=11530]
14-07-2020 07:18:04.319 [Camel (camel-1) thread #3 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
14-07-2020 07:18:04.318 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
14-07-2020 07:18:04.322 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594691271825-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=9987, duration=12496]
14-07-2020 07:18:04.334 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 07:18:04.336 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 07:18:04.337 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 10 seconds
14-07-2020 07:18:04.364 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
14-07-2020 07:18:04.369 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 17.695 seconds
14-07-2020 07:18:04.369 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.058 seconds
14-07-2020 07:18:04.372 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:18:04.374 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:18:04.374 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 07:18:04.374 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 17.109 seconds (17109 millis)
14-07-2020 07:18:04.374 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 07:18:04.374 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 07:23:38.221 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest], using SpringBootContextLoader
14-07-2020 07:23:38.247 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:23:38.249 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: SimpleCamelRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:23:38.529 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 07:23:38.652 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:23:38.690 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 07:23:38.725 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 07:23:39.180 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarting - Starting SimpleCamelRouteMockTest on arun with PID 31026 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:23:39.181 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:23:40.644 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d215a0a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:23:41.411 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:23:42.672 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:23:42.909 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:23:42.910 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:23:42.930 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarted - Started SimpleCamelRouteMockTest in 4.132 seconds (JVM running for 5.789)
14-07-2020 07:23:42.968 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:23:42.994 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.SimpleCamelRouteMockTest.createCamelContext()
14-07-2020 07:23:43.035 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 07:23:43.043 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:23:43.045 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:23:43.048 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:23:43.053 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:23:43.577 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:23:43.691 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:23:43.695 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:23:43.704 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:23:43.706 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.657 seconds
14-07-2020 07:23:43.902 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.setUp - ********************************************************************************
14-07-2020 07:23:43.902 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.setUp - Testing: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 07:23:43.902 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.setUp - ********************************************************************************
14-07-2020 07:23:43.903 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 07:23:43.903 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 07:23:43.903 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Took: 5.178 seconds (5178 millis)
14-07-2020 07:23:43.903 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 07:23:43.911 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:23:43.912 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:23:43.921 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:23:43.923 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:23:43.923 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:23:43.936 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.888 seconds
14-07-2020 07:23:43.937 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.026 seconds
14-07-2020 07:23:43.939 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:23:43.941 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 07:23:43.942 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 07:23:43.942 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Took: 0.234 seconds (234 millis)
14-07-2020 07:23:43.942 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 07:23:43.942 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 07:24:21.201 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest], using SpringBootContextLoader
14-07-2020 07:24:21.216 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 07:24:21.216 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: SimpleCamelRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 07:24:21.498 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 07:24:21.647 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 07:24:21.666 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 07:24:21.695 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 07:24:22.223 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarting - Starting SimpleCamelRouteMockTest on arun with PID 31461 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 07:24:22.223 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 07:24:23.862 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d215a0a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 07:24:24.639 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 07:24:25.944 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 07:24:26.246 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 07:24:26.247 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 07:24:26.272 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarted - Started SimpleCamelRouteMockTest in 4.511 seconds (JVM running for 6.091)
14-07-2020 07:24:26.327 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 07:24:26.348 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.SimpleCamelRouteMockTest.createCamelContext()
14-07-2020 07:24:26.370 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 07:24:26.373 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 07:24:26.374 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 07:24:26.375 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 07:24:26.376 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 07:24:26.842 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 07:24:26.936 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 07:24:26.939 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 07:24:26.949 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 07:24:26.951 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.575 seconds
14-07-2020 07:24:27.140 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 07:24:27.141 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 07:24:27.141 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Took: 5.445 seconds (5445 millis)
14-07-2020 07:24:27.141 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 07:24:27.149 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 07:24:27.151 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 07:24:27.163 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 07:24:27.163 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 07:24:27.164 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 07:24:27.173 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.798 seconds
14-07-2020 07:24:27.174 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.025 seconds
14-07-2020 07:24:27.177 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 07:24:27.179 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 07:24:27.180 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 07:24:27.180 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Took: 0.227 seconds (227 millis)
14-07-2020 07:24:27.180 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 07:24:27.180 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 11:00:12.185 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 11:00:12.221 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:00:12.224 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:00:12.665 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:00:13.283 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:00:13.336 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1cbf6e72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6aecbb8d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1af146, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4da602fc, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a8d39c4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@25b2cfcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@72758afa, org.springframework.test.context.event.EventPublishingTestExecutionListener@fb9c7aa, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c398c80, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7fc6de5b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@21baa903, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@607fbe09, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@60a2630a, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@29df4d43]
14-07-2020 11:00:13.424 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:00:14.647 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 3941 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:00:14.650 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:00:19.548 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d7b66dc9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:00:27.051 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:00:29.955 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:04:02.392 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:04:02.394 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:04:02.426 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 228.798 seconds (JVM running for 234.234)
14-07-2020 11:04:02.510 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 11:04:02.551 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 11:04:02.611 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:04:02.615 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 11:04:02.619 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 11:04:02.622 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:04:02.625 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:04:03.414 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:04:03.578 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:04:03.583 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:04:03.604 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:04:03.609 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.983 seconds
14-07-2020 11:04:13.059 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:04:13.061 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:04:13.069 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 3 minutes (239637 millis)
14-07-2020 11:04:13.072 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:04:13.122 [Camel (camel-1) thread #2 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:04:13.127 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:04:13.133 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:04:13.149 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [mainRoute = 1, healthRoute = 1]
14-07-2020 11:04:13.154 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-1, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=choice1, elapsed=54, duration=88]
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=choice4, elapsed=23, duration=88]
14-07-2020 11:04:13.760 [Camel (camel-1) thread #1 - timer://myTimer2] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@69f16ff8
14-07-2020 11:04:13.981 [Camel (camel-1) thread #1 - timer://myTimer2] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594704853076-0-4 on ExchangeId: ID-arun-1594704853076-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594704853076-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[timer://myTimer2?period=10000]                                           ] [       911]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594704853076-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 11 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 22 common frames omitted
14-07-2020 11:04:13.986 [Camel (camel-1) thread #1 - timer://myTimer2] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594704853076-0-1]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-arun-1594704853076-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594704853076-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 11 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 22 common frames omitted
14-07-2020 11:04:14.161 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:14.162 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=1006, duration=1096]
14-07-2020 11:04:15.165 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:15.167 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=2011, duration=2101]
14-07-2020 11:04:16.169 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:16.170 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=3014, duration=3104]
14-07-2020 11:04:17.172 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:17.175 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=4017, duration=4109]
14-07-2020 11:04:18.176 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:18.178 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=5022, duration=5112]
14-07-2020 11:04:19.180 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:19.181 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=6025, duration=6115]
14-07-2020 11:04:20.184 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:20.186 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=7029, duration=7120]
14-07-2020 11:04:21.188 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:21.189 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=8033, duration=8123]
14-07-2020 11:04:22.191 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [mainRoute = 1]
14-07-2020 11:04:22.193 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=9037, duration=9127]
14-07-2020 11:04:23.143 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
14-07-2020 11:04:23.143 [Camel (camel-1) thread #3 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
14-07-2020 11:04:23.144 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594704853076-0-2, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich2, elapsed=9988, duration=10078]
14-07-2020 11:04:23.161 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 10 seconds
14-07-2020 11:04:23.158 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:04:23.167 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:04:23.232 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
14-07-2020 11:04:23.261 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 20.639 seconds
14-07-2020 11:04:23.262 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.135 seconds
14-07-2020 11:04:23.275 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:04:23.280 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:04:23.281 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:04:23.282 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 19.669 seconds (19669 millis)
14-07-2020 11:04:23.283 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:04:23.283 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:04:23.302 [Camel (camel-1) thread #2 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594704853076-0-2]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594704853076-0-2]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594704853076-0-2]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
14-07-2020 11:06:40.941 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 11:06:40.956 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:06:40.959 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:06:41.262 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:06:41.438 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:06:41.487 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4686afc2, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1e0b4072, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@791f145a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38cee291, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4b45a2f5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f09733f, org.springframework.test.context.event.EventPublishingTestExecutionListener@e350b40, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6340e5f0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@45099dd3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@13e344d, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1ffaf86]
14-07-2020 11:06:41.542 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:06:42.255 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 4768 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:06:42.255 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:06:44.709 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c727fc3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:06:45.896 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:06:47.558 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:06:48.013 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:06:48.020 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:06:48.047 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 6.426 seconds (JVM running for 8.42)
14-07-2020 11:06:48.102 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 11:06:48.137 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 11:06:48.188 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:06:48.193 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 11:06:48.194 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 11:06:48.195 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:06:48.196 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:06:49.129 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:06:49.398 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:06:49.402 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:06:49.428 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:06:49.429 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 1.234 seconds
14-07-2020 11:06:49.873 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:06:49.875 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:06:49.881 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 8.332 seconds (8332 millis)
14-07-2020 11:06:49.885 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:06:49.915 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:06:49.923 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:06:49.974 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:06:49.987 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:06:49.998 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:06:50.065 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.870 seconds
14-07-2020 11:06:50.066 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.151 seconds
14-07-2020 11:06:50.082 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:06:50.094 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:06:50.100 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:06:50.101 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.663 seconds (663 millis)
14-07-2020 11:06:50.101 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:06:50.101 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:07:28.318 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 11:07:28.331 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:07:28.333 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:07:28.523 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:07:28.717 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:07:28.774 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 11:07:28.827 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:07:29.550 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 5197 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:07:29.552 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 11:07:32.149 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c727fc3b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:07:33.225 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:07:34.954 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:07:35.298 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:07:35.299 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:07:35.328 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 6.421 seconds (JVM running for 8.122)
14-07-2020 11:07:35.373 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 11:07:35.410 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 11:07:35.456 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:07:35.458 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 11:07:35.460 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 11:07:35.462 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:07:35.463 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:07:36.078 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:07:36.213 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 11:07:36.215 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 11:07:36.231 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:07:36.233 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.769 seconds
14-07-2020 11:07:36.964 [main] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@1b47b7f5
14-07-2020 11:07:37.119 [main] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594705056534-0-2 on ExchangeId: ID-arun-1594705056534-0-1). Exhausted after delivery attempt: 1 caught: org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594705056534-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[healthRoute       ] [healthRoute       ] [from[direct://health]                                                         ] [       582]
[healthRoute       ] [choice1           ] [when[{header(env) != mock}]choice[]                                           ] [         0]
[healthRoute       ] [pollEnrich1       ] [pollEnrich[http://localhost:8080/actuator/health]                             ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594705056534-0-1]. Caused by: [org.apache.camel.RuntimeCamelException - org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:74)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:189)
	at org.apache.camel.processor.SharedCamelInternalProcessor$1.process(SharedCamelInternalProcessor.java:90)
	at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:78)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:87)
	at org.apache.camel.impl.engine.DefaultProducerCache.send(DefaultProducerCache.java:174)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:176)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:172)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.send(DefaultProducerTemplate.java:158)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:225)
	at org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:357)
	at io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest(HealthCheckRouteTest.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.apache.camel.RuntimeCamelException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:120)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 54 common frames omitted
Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8080 [localhost/127.0.0.1] failed: Connection refused (Connection refused)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	... 56 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)
	... 67 common frames omitted
14-07-2020 11:07:37.135 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:07:37.136 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:07:37.137 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 8.308 seconds (8308 millis)
14-07-2020 11:07:37.138 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:07:37.152 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:07:37.155 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:07:37.215 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 11:07:37.219 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 11:07:37.221 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:07:37.267 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.804 seconds
14-07-2020 11:07:37.274 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.122 seconds
14-07-2020 11:07:37.290 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:07:37.303 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:07:37.309 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:07:37.311 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 1.067 seconds (1067 millis)
14-07-2020 11:07:37.319 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:07:37.321 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:08:45.868 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.HealthCheckRouteTest], using SpringBootContextLoader
14-07-2020 11:08:45.882 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:08:45.885 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.HealthCheckRouteTest]: HealthCheckRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:08:46.248 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:08:46.535 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:08:46.586 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@18df8434, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@65c7a252, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4d154ccd, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@229c6181, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4686afc2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1e0b4072, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@791f145a, org.springframework.test.context.event.EventPublishingTestExecutionListener@38cee291, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b45a2f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f09733f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@e350b40, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@41a0aa7d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2794eab6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6340e5f0]
14-07-2020 11:08:46.622 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.HealthCheckRouteTest
14-07-2020 11:08:47.350 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarting - Starting HealthCheckRouteTest on arun with PID 5643 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:08:47.351 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 11:08:50.020 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d215a0a9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:08:51.126 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:08:52.645 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:08:52.954 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:08:52.955 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:08:52.973 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.logStarted - Started HealthCheckRouteTest in 6.265 seconds (JVM running for 8.563)
14-07-2020 11:08:53.019 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 11:08:53.048 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.HealthCheckRouteTest.createCamelContext()
14-07-2020 11:08:53.080 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:08:53.081 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 11:08:53.083 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 11:08:53.084 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:08:53.086 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:08:53.666 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:08:53.901 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 11:08:53.909 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 11:08:53.919 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:08:53.923 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.836 seconds
14-07-2020 11:08:54.229 [main] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:08:54.282 [main] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:08:54.294 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:08:54.295 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:08:54.301 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - Took: 7.673 seconds (7673 millis)
14-07-2020 11:08:54.301 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.tearDown - ********************************************************************************
14-07-2020 11:08:54.316 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:08:54.318 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:08:54.332 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 11:08:54.333 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 11:08:54.334 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:08:54.361 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1.276 seconds
14-07-2020 11:08:54.362 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.046 seconds
14-07-2020 11:08:54.367 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:08:54.370 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:08:54.371 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Testing done: healthRouteTest(io.arun.learning.camel.route.HealthCheckRouteTest)
14-07-2020 11:08:54.373 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - Took: 0.444 seconds (444 millis)
14-07-2020 11:08:54.373 [main] INFO  i.a.l.c.route.HealthCheckRouteTest.afterTestMethod - ********************************************************************************
14-07-2020 11:08:54.373 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.HealthCheckRouteTest.healthRouteTest
14-07-2020 11:19:12.529 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest], using SpringBootContextLoader
14-07-2020 11:19:12.537 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:19:12.538 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteMockTest]: SimpleCamelRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:19:12.773 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 11:19:12.907 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:19:12.925 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1bb564e2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@62e6b5c8, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3f792b9b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7b8233cd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b20ca2b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1cbf6e72, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6aecbb8d, org.springframework.test.context.event.EventPublishingTestExecutionListener@1af146, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4da602fc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2a8d39c4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@25b2cfcb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@72758afa, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fb9c7aa, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4c398c80]
14-07-2020 11:19:12.956 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteMockTest
14-07-2020 11:19:13.433 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarting - Starting SimpleCamelRouteMockTest on arun with PID 6693 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:19:13.435 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 11:19:15.096 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$2f50f43] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:19:20.573 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:19:21.816 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:19:28.510 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:19:28.511 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:19:28.527 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.logStarted - Started SimpleCamelRouteMockTest in 15.501 seconds (JVM running for 17.101)
14-07-2020 11:19:28.597 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
14-07-2020 11:19:28.619 [main] INFO  o.s.b.f.a.AutowiredAnnotationBeanPostProcessor.lambda$buildAutowiringMetadata$2 - Autowired annotation should only be used on methods with parameters: protected org.apache.camel.CamelContext io.arun.learning.camel.route.SimpleCamelRouteMockTest.createCamelContext()
14-07-2020 11:19:28.689 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 11:19:28.691 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
14-07-2020 11:19:28.692 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
14-07-2020 11:19:28.695 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:19:28.696 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:19:29.068 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:19:29.147 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 11:19:29.150 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 11:19:29.158 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:19:29.160 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.465 seconds
14-07-2020 11:19:29.326 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 11:19:29.327 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 11:19:29.327 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - Took: 16.370 seconds (16370 millis)
14-07-2020 11:19:29.327 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.tearDown - ********************************************************************************
14-07-2020 11:19:29.335 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:19:29.336 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:19:29.360 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 11:19:29.361 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 11:19:29.361 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:19:29.380 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.686 seconds
14-07-2020 11:19:29.381 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.046 seconds
14-07-2020 11:19:29.383 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:19:29.386 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 11:19:29.386 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Testing done: testMoveFileMock(io.arun.learning.camel.route.SimpleCamelRouteMockTest)
14-07-2020 11:19:29.386 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - Took: 0.225 seconds (225 millis)
14-07-2020 11:19:29.386 [main] INFO  i.a.l.c.r.SimpleCamelRouteMockTest.afterTestMethod - ********************************************************************************
14-07-2020 11:19:29.387 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteMockTest.testMoveFileMock
14-07-2020 11:33:24.882 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
14-07-2020 11:33:24.888 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:33:24.890 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:33:24.981 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
14-07-2020 11:33:25.053 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:33:25.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7ba8c737, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1890516e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@15a04efb, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@16c069df, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2bec854f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@31edaa7d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26adfd2d, org.springframework.test.context.event.EventPublishingTestExecutionListener@3336e6b6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7c3fdb62, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@205d38da, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6950ed69, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6dd7b5a3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6f3187b0, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2663e964]
14-07-2020 11:33:25.397 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 7832 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:33:25.398 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: mock
14-07-2020 11:33:26.835 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$cddb0dbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:33:27.601 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:33:28.729 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:33:28.912 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:33:28.914 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:33:28.924 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:33:28.925 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:33:29.289 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:33:29.375 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
14-07-2020 11:33:29.377 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: direct://input
14-07-2020 11:33:29.386 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:33:29.387 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.462 seconds
14-07-2020 11:33:29.392 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 4.302 seconds (JVM running for 5.177)
14-07-2020 11:33:29.639 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:33:29.641 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:33:29.650 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: direct://input
14-07-2020 11:33:29.651 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
14-07-2020 11:33:29.651 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:33:29.681 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.756 seconds
14-07-2020 11:33:29.681 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.042 seconds
14-07-2020 11:33:29.683 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:34:23.480 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
14-07-2020 11:34:23.485 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:34:23.486 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:34:23.567 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
14-07-2020 11:34:23.634 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:34:23.648 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@93081b6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@cd1e646, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7ba8c737, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1890516e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@15a04efb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@16c069df, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2bec854f, org.springframework.test.context.event.EventPublishingTestExecutionListener@31edaa7d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@26adfd2d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3336e6b6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7c3fdb62, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@205d38da, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6950ed69, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6dd7b5a3]
14-07-2020 11:34:23.953 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 8357 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:34:23.955 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:34:25.645 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$7b3292d9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:34:26.255 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:34:27.129 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:34:27.330 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:34:27.335 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:34:27.350 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:34:27.351 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:34:27.700 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:34:27.772 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:34:27.775 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:34:27.795 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:34:27.797 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.447 seconds
14-07-2020 11:34:27.802 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 4.128 seconds (JVM running for 4.886)
14-07-2020 11:34:28.033 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:34:28.039 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:34:28.056 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:34:28.056 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:34:28.057 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:34:28.086 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.736 seconds
14-07-2020 11:34:28.087 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.054 seconds
14-07-2020 11:34:28.091 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:34:42.222 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 8798 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:34:42.226 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:34:43.720 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b2cff35b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:34:44.013 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
14-07-2020 11:34:44.024 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
14-07-2020 11:34:44.025 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
14-07-2020 11:34:44.025 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
14-07-2020 11:34:44.087 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
14-07-2020 11:34:44.088 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1785 ms
14-07-2020 11:34:44.589 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:34:45.288 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:34:45.351 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
14-07-2020 11:34:45.413 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
14-07-2020 11:34:45.583 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:34:45.584 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:34:45.595 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:34:45.597 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:34:45.959 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:34:46.072 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:34:46.076 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:34:46.115 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:34:46.116 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.521 seconds
14-07-2020 11:34:46.129 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 4.294 seconds (JVM running for 4.76)
14-07-2020 11:34:47.108 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:34:47.338 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@7f8a73fe
14-07-2020 11:34:47.528 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
14-07-2020 11:34:47.528 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
14-07-2020 11:34:47.538 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 10 ms
14-07-2020 11:34:47.594 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
14-07-2020 11:34:48.649 [http-nio-8080-exec-2] ERROR com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:285)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:217)
	at org.postgresql.Driver.makeConnection(Driver.java:458)
	at org.postgresql.Driver.connect(Driver.java:260)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.postgresql.core.PGStream.<init>(PGStream.java:81)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:93)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)
	... 92 common frames omitted
14-07-2020 11:34:48.656 [http-nio-8080-exec-2] WARN  o.s.b.a.j.DataSourceHealthIndicator.health - DataSource health check failed
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:285)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:217)
	at org.postgresql.Driver.makeConnection(Driver.java:458)
	at org.postgresql.Driver.connect(Driver.java:260)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 78 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.postgresql.core.PGStream.<init>(PGStream.java:81)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:93)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)
	... 92 common frames omitted
14-07-2020 11:35:05.559 [http-nio-8080-exec-2] WARN  o.s.b.a.mail.MailHealthIndicator.health - Mail health check failed
javax.mail.MessagingException: Could not convert socket to TLS
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1009)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1388)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1416)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1400)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 79 common frames omitted
Caused by: java.io.EOFException: SSL peer shut down incorrectly
	at sun.security.ssl.InputRecord.read(InputRecord.java:505)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	... 85 common frames omitted
14-07-2020 11:35:05.664 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"DOWN"}
14-07-2020 11:35:05.679 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=DOWN}
14-07-2020 11:35:05.679 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - Exception info -> statuscomponent in the route is down
14-07-2020 11:35:05.681 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> statuscomponent in the route is down
14-07-2020 11:36:29.257 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
14-07-2020 11:36:30.260 [http-nio-8080-exec-1] ERROR com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:285)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:217)
	at org.postgresql.Driver.makeConnection(Driver.java:458)
	at org.postgresql.Driver.connect(Driver.java:260)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.postgresql.core.PGStream.<init>(PGStream.java:81)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:93)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)
	... 92 common frames omitted
14-07-2020 11:36:30.261 [http-nio-8080-exec-1] WARN  o.s.b.a.j.DataSourceHealthIndicator.health - DataSource health check failed
org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:82)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)
	at org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:54321 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:285)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:217)
	at org.postgresql.Driver.makeConnection(Driver.java:458)
	at org.postgresql.Driver.connect(Driver.java:260)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)
	... 78 common frames omitted
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:607)
	at org.postgresql.core.PGStream.<init>(PGStream.java:81)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:93)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:197)
	... 92 common frames omitted
14-07-2020 11:36:31.620 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:36:31.622 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:36:31.635 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:31.636 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=104526, duration=104546]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=2383, duration=2383]
14-07-2020 11:36:32.638 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:32.640 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=105530, duration=105550]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=3387, duration=3387]
14-07-2020 11:36:33.642 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:33.643 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=106533, duration=106553]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=4390, duration=4390]
14-07-2020 11:36:34.643 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:34.644 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=107534, duration=107554]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=5391, duration=5391]
14-07-2020 11:36:35.650 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:35.651 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=108541, duration=108561]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=6398, duration=6398]
14-07-2020 11:36:36.652 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:36.652 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=109542, duration=109562]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=7399, duration=7399]
14-07-2020 11:36:37.654 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:37.655 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=110545, duration=110565]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=8402, duration=8402]
14-07-2020 11:36:38.655 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:38.656 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=111546, duration=111566]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=9403, duration=9403]
14-07-2020 11:36:39.656 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:39.657 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=112547, duration=112567]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=10404, duration=10404]
14-07-2020 11:36:40.672 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:36:40.673 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=113563, duration=113583]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=11420, duration=11420]
14-07-2020 11:36:41.633 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
14-07-2020 11:36:41.633 [Camel (camel-1) thread #3 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
14-07-2020 11:36:41.633 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-1, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=114523, duration=114543]
	InflightExchange: [exchangeId=ID-arun-1594706687091-0-5, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=12380, duration=12380]
14-07-2020 11:36:41.636 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:36:41.638 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:36:41.638 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 10 seconds
14-07-2020 11:36:42.172 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
14-07-2020 11:36:41.667 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.http.impl.execchain.RetryExec.execute - I/O exception (java.net.SocketException) caught when processing request to {}->http://localhost:8080: Socket closed
14-07-2020 11:36:42.180 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1 minute
14-07-2020 11:36:42.180 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.560 seconds
14-07-2020 11:36:42.177 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594706687091-0-1]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594706687091-0-1]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594706687091-0-1]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
14-07-2020 11:36:42.174 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.http.impl.execchain.RetryExec.execute - Retrying request to {}->http://localhost:8080
14-07-2020 11:36:42.198 [Camel (camel-1) thread #2 - timer://myTimer2] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594706687091-0-5]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-arun-1594706687091-0-5]. Caused by: [java.lang.IllegalStateException - Connection pool shut down]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594706687091-0-5]. Caused by: [java.lang.IllegalStateException - Connection pool shut down]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.lang.IllegalStateException: Connection pool shut down
	at org.apache.http.util.Asserts.check(Asserts.java:34)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
14-07-2020 11:36:49.340 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:38:39.116 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
14-07-2020 11:38:39.121 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14-07-2020 11:38:39.122 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14-07-2020 11:38:39.208 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
14-07-2020 11:38:39.280 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14-07-2020 11:38:39.291 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@13bc8645, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@24c22fe, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@93081b6, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@cd1e646, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7ba8c737, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1890516e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@15a04efb, org.springframework.test.context.event.EventPublishingTestExecutionListener@16c069df, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2bec854f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@31edaa7d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@26adfd2d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3336e6b6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7c3fdb62, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@205d38da]
14-07-2020 11:38:39.590 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 9478 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:38:39.592 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:38:40.806 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$57c0ce1c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:38:41.494 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:38:42.461 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:38:42.664 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:38:42.666 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:38:42.676 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:38:42.677 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:38:43.014 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:38:43.093 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:38:43.095 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:38:43.116 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:38:43.117 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.441 seconds
14-07-2020 11:38:43.122 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 3.796 seconds (JVM running for 4.557)
14-07-2020 11:38:43.408 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:38:43.411 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:38:43.420 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:38:43.422 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:38:43.424 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
14-07-2020 11:38:43.445 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.769 seconds
14-07-2020 11:38:43.446 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.038 seconds
14-07-2020 11:38:43.451 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:40:43.660 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 10098 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
14-07-2020 11:40:43.662 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
14-07-2020 11:40:45.197 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$773b1da] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
14-07-2020 11:40:45.495 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
14-07-2020 11:40:45.505 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
14-07-2020 11:40:45.506 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
14-07-2020 11:40:45.506 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
14-07-2020 11:40:45.559 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
14-07-2020 11:40:45.559 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1847 ms
14-07-2020 11:40:46.074 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
14-07-2020 11:40:46.645 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver.<init> - Exposing 2 endpoint(s) beneath base path '/actuator'
14-07-2020 11:40:46.691 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
14-07-2020 11:40:46.730 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
14-07-2020 11:40:46.915 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
14-07-2020 11:40:46.917 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
14-07-2020 11:40:46.933 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
14-07-2020 11:40:46.934 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
14-07-2020 11:40:47.264 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
14-07-2020 11:40:47.335 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: mainRoute started and consuming from: timer://myTimer?period=10000
14-07-2020 11:40:47.337 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: timer://myTimer2?period=10000
14-07-2020 11:40:47.345 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 2 routes, of which 2 are started
14-07-2020 11:40:47.346 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.412 seconds
14-07-2020 11:40:47.351 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 4.104 seconds (JVM running for 4.557)
14-07-2020 11:40:48.381 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:40:48.540 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.c.component.http.HttpComponent.createConnectionManager - Created ClientConnectionManager org.apache.http.impl.conn.PoolingHttpClientConnectionManager@39b2cecf
14-07-2020 11:40:48.722 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring DispatcherServlet 'dispatcherServlet'
14-07-2020 11:40:48.723 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Initializing Servlet 'dispatcherServlet'
14-07-2020 11:40:48.730 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet.initServletBean - Completed initialization in 7 ms
14-07-2020 11:40:48.786 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
14-07-2020 11:40:48.990 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
14-07-2020 11:41:10.417 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:41:10.432 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:41:22.997 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:41:22.998 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:41:47.915 [http-nio-8080-exec-3] WARN  o.s.b.a.mail.MailHealthIndicator.health - Mail health check failed
javax.mail.MessagingException: Could not convert socket to TLS
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2140)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:734)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)
	at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$ServletWebOperationAdapter.handle(AbstractWebMvcEndpointHandlerMapping.java:305)
	at org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(AbstractWebMvcEndpointHandlerMapping.java:388)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:879)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1009)
	at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1388)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1416)
	at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1400)
	at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:602)
	at com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:529)
	at com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:2135)
	... 79 common frames omitted
Caused by: java.io.EOFException: SSL peer shut down incorrectly
	at sun.security.ssl.InputRecord.read(InputRecord.java:505)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	... 85 common frames omitted
14-07-2020 11:41:47.932 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"DOWN"}
14-07-2020 11:41:47.934 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=DOWN}
14-07-2020 11:41:47.934 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - Exception info -> statuscomponent in the route is down
14-07-2020 11:41:47.935 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> statuscomponent in the route is down
14-07-2020 11:41:57.054 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
14-07-2020 11:41:57.063 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:41:57.063 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:41:57.063 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
14-07-2020 11:41:57.063 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
14-07-2020 11:41:57.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
14-07-2020 11:41:57.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
14-07-2020 11:41:57.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
14-07-2020 11:41:57.075 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
14-07-2020 11:41:57.086 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:42:19.685 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:42:19.685 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:42:19.686 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:42:19.686 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
14-07-2020 11:42:19.686 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594707048362-0-18 on ExchangeId: ID-arun-1594707048362-0-17). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
14-07-2020 11:42:19.691 [Camel (camel-1) thread #1 - timer://myTimer] ERROR mainRoute.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
14-07-2020 11:42:19.691 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
14-07-2020 11:42:40.328 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:42:40.329 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:42:41.700 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@ec61e7c for file: GenericFile[errFile.txt]
14-07-2020 11:42:41.711 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594707048362-0-14]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
14-07-2020 11:42:41.716 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:42:50.419 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:42:50.421 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:43:08.642 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:43:08.643 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:43:24.373 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Unmarshelled -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:24.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log -  Record is Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:24.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:24.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
14-07-2020 11:43:24.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='101'
14-07-2020 11:43:24.397 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:43:31.525 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - HealthCheckInfo -> {"status":"UP"}
14-07-2020 11:43:31.526 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  i.a.l.c.p.HealthCheckProcessor.process - map read data is -> {status=UP}
14-07-2020 11:43:45.965 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:45.968 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:45.968 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
14-07-2020 11:43:45.969 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
14-07-2020 11:43:45.969 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
14-07-2020 11:43:45.981 [Camel (camel-1) thread #1 - timer://myTimer] INFO  mainRoute.log - Timer invoked and the message is DEV Environment
14-07-2020 11:44:06.754 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
14-07-2020 11:44:06.756 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
14-07-2020 11:44:06.762 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:06.766 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=35239, duration=35239]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=20785, duration=20785]
14-07-2020 11:44:07.775 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:07.776 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=36249, duration=36249]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=21795, duration=21795]
14-07-2020 11:44:08.778 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:08.779 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=37252, duration=37252]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=22798, duration=22798]
14-07-2020 11:44:09.781 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:09.782 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=38255, duration=38255]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=23801, duration=23801]
14-07-2020 11:44:10.784 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:10.784 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=39257, duration=39257]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=24803, duration=24803]
14-07-2020 11:44:11.789 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:11.791 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=40264, duration=40264]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=25810, duration=25810]
14-07-2020 11:44:12.794 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:12.795 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=41268, duration=41268]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=26814, duration=26814]
14-07-2020 11:44:13.804 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:13.818 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=42291, duration=42291]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=27837, duration=27837]
14-07-2020 11:44:14.824 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:14.825 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=43298, duration=43298]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=28844, duration=28844]
14-07-2020 11:44:15.830 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 2 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [healthRoute = 1, mainRoute = 1]
14-07-2020 11:44:15.832 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=44305, duration=44305]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=29851, duration=29851]
14-07-2020 11:44:16.761 [Camel (camel-1) thread #3 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
14-07-2020 11:44:16.761 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
14-07-2020 11:44:16.762 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-34, fromRouteId=healthRoute, atRouteId=healthRoute, nodeId=pollEnrich2, elapsed=45235, duration=45235]
	InflightExchange: [exchangeId=ID-arun-1594707048362-0-38, fromRouteId=mainRoute, atRouteId=mainRoute, nodeId=pollEnrich1, elapsed=30781, duration=30781]
14-07-2020 11:44:16.765 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: timer://myTimer2?period=10000
14-07-2020 11:44:16.768 [Camel (camel-1) thread #3 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: mainRoute shutdown complete, was consuming from: timer://myTimer?period=10000
14-07-2020 11:44:16.768 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 10 seconds
14-07-2020 11:44:16.796 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.http.impl.execchain.RetryExec.execute - I/O exception (java.net.SocketException) caught when processing request to {}->http://localhost:8080: Socket closed
14-07-2020 11:44:16.804 [Camel (camel-1) thread #2 - timer://myTimer2] INFO  o.a.http.impl.execchain.RetryExec.execute - Retrying request to {}->http://localhost:8080
14-07-2020 11:44:16.806 [Camel (camel-1) thread #2 - timer://myTimer2] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594707048362-0-34]. Caused by: [org.apache.camel.CamelExchangeException - Error during poll. Exchange[ID-arun-1594707048362-0-34]. Caused by: [java.lang.IllegalStateException - Connection pool shut down]]
org.apache.camel.CamelExchangeException: Error during poll. Exchange[ID-arun-1594707048362-0-34]. Caused by: [java.lang.IllegalStateException - Connection pool shut down]
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:245)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.lang.IllegalStateException: Connection pool shut down
	at org.apache.http.util.Asserts.check(Asserts.java:34)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.requestConnection(PoolingHttpClientConnectionManager.java:269)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:176)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)
	at org.apache.camel.component.http.HttpPollingConsumer.executeMethod(HttpPollingConsumer.java:148)
	at org.apache.camel.component.http.HttpPollingConsumer.doReceive(HttpPollingConsumer.java:90)
	at org.apache.camel.component.http.HttpPollingConsumer.receive(HttpPollingConsumer.java:63)
	at org.apache.camel.processor.PollEnricher.process(PollEnricher.java:230)
	... 9 common frames omitted
14-07-2020 11:44:16.830 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
14-07-2020 11:44:16.842 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3 minutes
14-07-2020 11:44:16.848 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.094 seconds
14-07-2020 11:44:17.072 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594707048362-0-38]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594707048362-0-38]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594707048362-0-38]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
14-07-2020 11:44:24.011 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
14-07-2020 11:44:24.020 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
14-07-2020 11:44:24.053 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
