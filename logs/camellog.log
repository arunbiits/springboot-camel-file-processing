09-07-2020 15:07:29.454 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:07:29.485 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:07:29.486 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:07:29.719 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:07:29.896 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:07:29.928 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4e70a728, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@b7838a9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@696f0212, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5733f295, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1c3146bc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@56c698e3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47a86fbb, org.springframework.test.context.event.EventPublishingTestExecutionListener@f478a81, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@19553973, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7bb6ab3a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7fe7c640, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4c4748bf, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ce97ee5, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@32c8e539]
09-07-2020 15:07:29.972 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:07:30.533 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 4582 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:07:30.534 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:07:32.591 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$9351b002] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:07:33.491 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:07:35.825 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:07:35.825 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:07:35.843 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 5.78 seconds (JVM running for 8.285)
09-07-2020 15:07:35.851 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:07:35.914 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:07:35.915 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:07:35.916 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:07:35.917 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:07:35.918 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:07:36.692 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:07:36.833 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:07:36.852 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:07:36.854 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.936 seconds
09-07-2020 15:07:37.860 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:07:37.940 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
09-07-2020 15:07:37.953 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:07:37.953 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:07:37.953 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:07:37.954 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594287457324-0-6 on ExchangeId: ID-arun-1594287457324-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:07:37.960 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:07:37.961 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:07:40.371 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:07:40.373 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:07:40.379 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:40.381 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2441, duration=2537]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2420, duration=2537]
09-07-2020 15:07:41.383 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:41.384 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3444, duration=3540]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3423, duration=3540]
09-07-2020 15:07:42.387 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:42.388 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4448, duration=4544]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4427, duration=4544]
09-07-2020 15:07:43.390 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:43.390 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5450, duration=5546]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5429, duration=5546]
09-07-2020 15:07:43.577 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - Exception occurred while trying to handle previously thrown exception on exchangeId: ID-arun-1594287457324-0-5 using: [Pipeline[[Channel[Log(route1)[DataException in Route: ${body}]], Channel[DelegateSync[io.arun.learning.camel.alert.MailProcessor@29569230]]]]]. The previous and the new exception will be logged in the following.
09-07-2020 15:07:43.590 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - \--> Previous exception on exchangeId: ID-arun-1594287457324-0-5
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:07:43.591 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - \--> New exception on exchangeId: ID-arun-1594287457324-0-5
org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials j5sm2171371pfa.5 - gsmtp

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:440)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:323)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:312)
	at io.arun.learning.camel.alert.MailProcessor.process(MailProcessor.java:35)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials j5sm2171371pfa.5 - gsmtp

	at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)
	at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)
	... 16 common frames omitted
09-07-2020 15:07:43.595 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:07:43.595 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:07:43.595 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:07:43.598 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594287457324-0-8 on ExchangeId: ID-arun-1594287457324-0-7). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
09-07-2020 15:07:43.599 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:07:43.599 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for LG TV
09-07-2020 15:07:44.394 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:44.396 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6455, duration=6552]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=797, duration=6552]
09-07-2020 15:07:45.398 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:45.399 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7459, duration=7555]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=1800, duration=7555]
09-07-2020 15:07:46.400 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:07:46.402 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8462, duration=8558]
	InflightExchange: [exchangeId=ID-arun-1594287457324-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2803, duration=8558]
09-07-2020 15:07:46.539 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - Exception occurred while trying to handle previously thrown exception on exchangeId: ID-arun-1594287457324-0-7 using: [Pipeline[[Channel[Log(route1)[DataException in Route: ${body}]], Channel[DelegateSync[io.arun.learning.camel.alert.MailProcessor@29569230]]]]]. The previous and the new exception will be logged in the following.
09-07-2020 15:07:46.539 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - \--> Previous exception on exchangeId: ID-arun-1594287457324-0-7
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:07:46.540 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.FatalFallbackErrorHandler.log - \--> New exception on exchangeId: ID-arun-1594287457324-0-7
org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials io3sm1972997pjb.22 - gsmtp

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:440)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:323)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:312)
	at io.arun.learning.camel.alert.MailProcessor.process(MailProcessor.java:35)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials io3sm1972997pjb.22 - gsmtp

	at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)
	at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)
	... 16 common frames omitted
09-07-2020 15:07:46.543 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@79a5aa59 for file: GenericFile[fileTest.txt]
09-07-2020 15:07:46.565 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594287457324-0-2]. Caused by: [org.springframework.mail.MailAuthenticationException - Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials io3sm1972997pjb.22 - gsmtp
]
org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials io3sm1972997pjb.22 - gsmtp

	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:440)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:323)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:312)
	at io.arun.learning.camel.alert.MailProcessor.process(MailProcessor.java:35)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
	Suppressed: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
		at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
		at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
		at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
		at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
		... 8 common frames omitted
Caused by: javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at
535 5.7.8  https://support.google.com/mail/?p=BadCredentials io3sm1972997pjb.22 - gsmtp

	at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)
	at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)
	at javax.mail.Service.connect(Service.java:342)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:437)
	... 16 common frames omitted
09-07-2020 15:07:47.416 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:07:47.417 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 7 seconds
09-07-2020 15:07:47.458 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 11.541 seconds
09-07-2020 15:07:47.459 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 7.088 seconds
09-07-2020 15:07:47.462 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:07:47.465 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:07:47.465 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:07:47.465 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 10.609 seconds (10609 millis)
09-07-2020 15:07:47.466 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:07:47.466 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:16:31.239 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:16:31.249 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:16:31.251 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:16:31.480 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:16:31.649 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:16:31.667 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77d2e85, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555cf22, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6bb2d00b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c9bfddc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a9c38eb, org.springframework.test.context.event.EventPublishingTestExecutionListener@319bc845, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@544820b7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6b98a075]
09-07-2020 15:16:31.710 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:16:32.376 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 6299 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:16:32.377 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:16:34.288 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c988f15e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:16:35.143 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:16:36.371 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:16:36.371 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:16:36.383 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.6 seconds (JVM running for 6.522)
09-07-2020 15:16:36.392 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:16:36.446 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:16:36.451 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:16:36.453 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:16:36.454 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:16:36.455 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:16:37.069 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:16:37.204 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:16:37.219 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:16:37.220 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.766 seconds
09-07-2020 15:16:38.221 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:16:38.306 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
09-07-2020 15:16:38.321 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:16:38.322 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:16:38.323 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:16:38.324 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594287997521-0-6 on ExchangeId: ID-arun-1594287997521-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:16:38.333 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:16:38.334 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:16:40.571 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:16:40.573 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:16:40.580 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:40.583 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2275, duration=2371]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2249, duration=2371]
09-07-2020 15:16:41.591 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:41.592 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3285, duration=3380]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3258, duration=3380]
09-07-2020 15:16:42.598 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:42.599 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4292, duration=4387]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4265, duration=4387]
09-07-2020 15:16:43.601 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:43.602 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5295, duration=5390]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5268, duration=5390]
09-07-2020 15:16:44.606 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:44.607 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6300, duration=6395]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6273, duration=6395]
09-07-2020 15:16:44.885 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:16:44.886 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:16:44.886 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:16:44.886 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594287997521-0-8 on ExchangeId: ID-arun-1594287997521-0-7). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
09-07-2020 15:16:44.887 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:16:44.887 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for LG TV
09-07-2020 15:16:45.611 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:45.612 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7305, duration=7400]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=725, duration=7400]
09-07-2020 15:16:46.616 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:46.617 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8310, duration=8405]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=1730, duration=8405]
09-07-2020 15:16:47.620 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:47.621 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9314, duration=9409]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2734, duration=9409]
09-07-2020 15:16:48.623 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:48.624 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10317, duration=10412]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3737, duration=10412]
09-07-2020 15:16:49.625 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:16:49.627 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11320, duration=11415]
	InflightExchange: [exchangeId=ID-arun-1594287997521-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4740, duration=11415]
09-07-2020 15:16:50.360 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@899e58a for file: GenericFile[fileTest.txt]
09-07-2020 15:16:50.384 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594287997521-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:16:50.579 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 15:16:50.579 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 15:16:50.608 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:16:50.608 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
09-07-2020 15:16:50.634 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 14.180 seconds
09-07-2020 15:16:50.634 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.063 seconds
09-07-2020 15:16:50.636 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:16:50.638 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:16:50.638 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:16:50.639 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.416 seconds (13416 millis)
09-07-2020 15:16:50.639 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:16:50.639 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:18:44.489 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:18:44.496 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:18:44.501 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:18:44.649 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:18:44.796 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:18:44.813 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:18:44.855 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:18:45.434 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 6715 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:18:45.435 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:18:46.737 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$209912ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:18:47.285 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:18:48.381 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:18:48.382 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:18:48.393 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.463 seconds (JVM running for 4.755)
09-07-2020 15:18:48.397 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:18:48.430 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:18:48.431 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:18:48.432 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:18:48.433 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:18:48.434 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:18:48.845 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:18:48.915 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:18:48.927 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:18:48.927 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.494 seconds
09-07-2020 15:18:49.932 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:18:49.981 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
09-07-2020 15:18:49.992 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:18:49.992 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:18:49.992 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:18:49.993 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288129083-0-6 on ExchangeId: ID-arun-1594288129083-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:18:49.998 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:18:49.998 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:18:52.132 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:18:52.136 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:18:52.162 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:52.168 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2187, duration=2248]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2170, duration=2248]
09-07-2020 15:18:53.170 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:53.170 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3189, duration=3250]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3172, duration=3250]
09-07-2020 15:18:54.171 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:54.173 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4192, duration=4253]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4175, duration=4253]
09-07-2020 15:18:55.176 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:55.177 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5196, duration=5257]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5179, duration=5257]
09-07-2020 15:18:56.119 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:18:56.120 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:18:56.121 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:18:56.124 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288129083-0-8 on ExchangeId: ID-arun-1594288129083-0-7). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
09-07-2020 15:18:56.126 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:18:56.127 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for LG TV
09-07-2020 15:18:56.180 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:56.181 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6200, duration=6261]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=55, duration=6261]
09-07-2020 15:18:57.184 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:57.187 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7206, duration=7267]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=1061, duration=7267]
09-07-2020 15:18:58.189 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:58.190 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8209, duration=8270]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2064, duration=8270]
09-07-2020 15:18:59.198 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:18:59.200 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9219, duration=9280]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3074, duration=9280]
09-07-2020 15:19:00.203 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:19:00.204 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10223, duration=10284]
	InflightExchange: [exchangeId=ID-arun-1594288129083-0-7, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4078, duration=10284]
09-07-2020 15:19:01.194 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@3d7d0748 for file: GenericFile[fileTest.txt]
09-07-2020 15:19:01.225 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288129083-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:19:01.228 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:19:01.232 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 9 seconds
09-07-2020 15:19:01.253 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 12.820 seconds
09-07-2020 15:19:01.254 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 9.122 seconds
09-07-2020 15:19:01.255 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:19:01.256 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:19:01.258 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:19:01.259 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 12.328 seconds (12328 millis)
09-07-2020 15:19:01.259 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:19:01.259 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:23:46.115 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:23:46.124 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:23:46.125 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:23:46.395 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:23:46.573 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:23:46.599 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77d2e85, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555cf22, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6bb2d00b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c9bfddc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a9c38eb, org.springframework.test.context.event.EventPublishingTestExecutionListener@319bc845, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@544820b7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6b98a075]
09-07-2020 15:23:46.642 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:23:47.287 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 7275 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:23:47.287 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:23:48.555 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$8f9d4a79] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:23:49.336 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:23:50.683 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:23:50.684 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:23:50.702 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.967 seconds (JVM running for 5.891)
09-07-2020 15:23:50.711 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:23:50.762 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:23:50.770 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:23:50.771 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:23:50.773 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:23:50.774 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:23:51.262 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:23:51.350 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:23:51.362 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:23:51.363 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.590 seconds
09-07-2020 15:23:52.390 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:23:52.457 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
09-07-2020 15:23:52.468 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:23:59.735 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:24:01.029 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:24:03.933 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288431616-0-6 on ExchangeId: ID-arun-1594288431616-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:24:03.974 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:24:03.983 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:24:03.989 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:24:03.989 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:24:04.009 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:04.012 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11553, duration=11647]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=23, duration=11648]
09-07-2020 15:24:05.015 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:05.016 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12558, duration=12652]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=1027, duration=12652]
09-07-2020 15:24:06.018 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:06.018 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=13560, duration=13654]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2029, duration=13654]
09-07-2020 15:24:07.020 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:07.022 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=14564, duration=14658]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3033, duration=14658]
09-07-2020 15:24:08.023 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:08.024 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=15566, duration=15660]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4035, duration=15660]
09-07-2020 15:24:09.026 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:09.027 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=16569, duration=16663]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5038, duration=16663]
09-07-2020 15:24:10.034 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:10.036 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=17578, duration=17672]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6047, duration=17672]
09-07-2020 15:24:11.038 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:24:11.039 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=18581, duration=18675]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=7050, duration=18675]
09-07-2020 15:24:11.150 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:24:14.053 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 15:24:14.053 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 15:24:14.053 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:24:14.054 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:24:14.054 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=21596, duration=21690]
	InflightExchange: [exchangeId=ID-arun-1594288431616-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=2904, duration=21690]
09-07-2020 15:24:15.737 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6c933bd9 for file: GenericFile[fileTest.txt]
09-07-2020 15:24:15.776 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288431616-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:24:15.749 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 11 seconds
09-07-2020 15:24:15.748 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:24:15.802 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 25.030 seconds
09-07-2020 15:24:15.803 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 11.829 seconds
09-07-2020 15:24:15.805 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:24:15.807 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:24:15.808 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:24:15.809 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 24.443 seconds (24443 millis)
09-07-2020 15:24:15.811 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:24:15.811 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:25:01.722 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:25:01.732 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:25:01.734 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:25:01.929 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:25:02.085 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:25:02.108 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4233e892, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77d2e85, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58ffcbd7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@555cf22, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bb2d00b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3c9bfddc, org.springframework.test.context.event.EventPublishingTestExecutionListener@1a9c38eb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@319bc845, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@544820b7]
09-07-2020 15:25:02.153 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:25:02.741 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 7604 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:25:02.741 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:25:04.074 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c2979436] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:25:04.762 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:25:06.113 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:25:06.113 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:25:06.127 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.901 seconds (JVM running for 5.744)
09-07-2020 15:25:06.136 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:25:06.188 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:25:06.189 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:25:06.191 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:25:06.194 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:25:06.197 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:25:06.644 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:25:06.725 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:25:06.740 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:25:06.741 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.547 seconds
09-07-2020 15:25:07.742 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:25:07.806 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
09-07-2020 15:25:07.817 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:25:11.644 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:25:16.153 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:25:59.003 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288506936-0-6 on ExchangeId: ID-arun-1594288506936-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:25:59.026 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:25:59.028 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:26:53.281 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:26:53.283 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:26:53.295 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:53.297 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=105491, duration=105565]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=54269, duration=105565]
09-07-2020 15:26:54.299 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:54.300 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=106494, duration=106568]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=55272, duration=106568]
09-07-2020 15:26:55.301 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:55.301 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=107495, duration=107569]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=56273, duration=107569]
09-07-2020 15:26:56.302 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:56.304 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=108498, duration=108572]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=57276, duration=108572]
09-07-2020 15:26:57.306 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:57.308 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=109502, duration=109576]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=58280, duration=109576]
09-07-2020 15:26:58.310 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:58.311 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=110505, duration=110579]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=59283, duration=110579]
09-07-2020 15:26:59.314 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:26:59.315 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=111509, duration=111583]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=60287, duration=111583]
09-07-2020 15:27:00.319 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:27:00.320 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=112514, duration=112588]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=61292, duration=112588]
09-07-2020 15:27:01.049 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:27:07.708 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:27:07.708 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 15:27:07.709 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=119903, duration=119977]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=6659, duration=119977]
09-07-2020 15:27:07.709 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 15:27:07.708 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
09-07-2020 15:27:07.709 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=119903, duration=119977]
	InflightExchange: [exchangeId=ID-arun-1594288506936-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=6659, duration=119977]
09-07-2020 15:27:11.032 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:27:11.038 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:27:11.039 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 17 seconds
09-07-2020 15:27:15.828 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@142c0173 for file: GenericFile[fileTest.txt]
09-07-2020 15:27:15.842 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288506936-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:27:15.860 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 2 minutes
09-07-2020 15:27:15.862 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 22.581 seconds
09-07-2020 15:27:15.874 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:27:15.880 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:27:15.881 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:27:15.886 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 2 minutes (129138 millis)
09-07-2020 15:27:15.887 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:27:15.889 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:29:58.175 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:29:58.187 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:29:58.188 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:29:58.486 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:29:58.624 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:29:58.643 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77d2e85, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@555cf22, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6bb2d00b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c9bfddc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a9c38eb, org.springframework.test.context.event.EventPublishingTestExecutionListener@319bc845, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@544820b7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6b98a075]
09-07-2020 15:29:58.673 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:29:59.297 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 8224 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:29:59.298 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:30:00.649 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$66b65642] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:30:01.332 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:30:02.493 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:30:02.494 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:30:02.507 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.747 seconds (JVM running for 5.573)
09-07-2020 15:30:02.512 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:30:02.558 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:30:02.559 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:30:02.561 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:30:02.562 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:30:02.563 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:30:03.051 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:30:03.151 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:30:03.167 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:30:03.167 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.605 seconds
09-07-2020 15:30:04.185 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:30:04.271 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}]
09-07-2020 15:30:04.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:30:07.658 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:30:11.478 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:30:11.488 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288803447-0-6 on ExchangeId: ID-arun-1594288803447-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:30:12.553 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:30:12.556 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:30:27.179 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:30:27.181 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:30:27.679 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:27.682 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=23410, duration=23511]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=15126, duration=23511]
09-07-2020 15:30:28.683 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:28.685 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=24413, duration=24514]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=16129, duration=24514]
09-07-2020 15:30:29.695 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:29.696 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=25424, duration=25525]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=17140, duration=25525]
09-07-2020 15:30:30.701 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:30.703 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=26431, duration=26532]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=18147, duration=26532]
09-07-2020 15:30:31.704 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:31.704 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=27432, duration=27533]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=19148, duration=27533]
09-07-2020 15:30:32.705 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:32.707 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=28434, duration=28536]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=20151, duration=28536]
09-07-2020 15:30:33.920 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:33.922 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=29650, duration=29751]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=21366, duration=29751]
09-07-2020 15:30:34.206 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:30:42.366 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:30:42.366 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 15:30:42.367 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:30:42.367 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=38095, duration=38196]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=8161, duration=38196]
09-07-2020 15:30:42.367 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:30:42.367 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=38095, duration=38196]
	InflightExchange: [exchangeId=ID-arun-1594288803447-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=8161, duration=38196]
09-07-2020 15:30:46.822 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 15:30:46.822 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',500.00)
09-07-2020 15:30:46.825 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@25efd177 for file: GenericFile[fileTest.txt]
09-07-2020 15:30:46.829 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:30:46.830 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 19 seconds
09-07-2020 15:30:46.837 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288803447-0-2]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594288803447-0-7]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594288803447-0-7]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:30:46.852 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 44.290 seconds
09-07-2020 15:30:46.853 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 19.674 seconds
09-07-2020 15:30:46.854 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:30:46.869 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:30:46.869 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:30:46.869 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 43.700 seconds (43700 millis)
09-07-2020 15:30:46.870 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:30:46.870 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:31:33.950 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:31:33.960 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:31:33.964 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:31:34.201 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:31:34.357 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:31:34.376 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:31:34.437 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:31:35.217 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 8561 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:31:35.218 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:31:36.750 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$442ce2b6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:31:37.731 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:31:39.369 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:31:39.369 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:31:39.384 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.874 seconds (JVM running for 6.352)
09-07-2020 15:31:39.389 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:31:39.459 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:31:39.465 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:31:39.467 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:31:39.470 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:31:39.471 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:31:39.967 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:31:40.392 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:31:40.400 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:31:40.401 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.932 seconds
09-07-2020 15:31:41.425 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:31:41.481 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}]
09-07-2020 15:31:41.490 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:31:41.490 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:31:41.491 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:31:41.491 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288900572-0-6 on ExchangeId: ID-arun-1594288900572-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:31:41.496 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:31:41.497 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:31:43.629 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:31:43.635 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:31:43.642 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:43.645 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2163, duration=2247]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2148, duration=2247]
09-07-2020 15:31:44.653 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:44.654 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3172, duration=3256]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3157, duration=3256]
09-07-2020 15:31:45.660 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:45.660 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4178, duration=4262]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4163, duration=4262]
09-07-2020 15:31:46.662 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:46.663 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5181, duration=5265]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5166, duration=5265]
09-07-2020 15:31:47.666 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:47.668 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6186, duration=6270]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6171, duration=6270]
09-07-2020 15:31:48.670 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:48.671 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7189, duration=7273]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=7174, duration=7273]
09-07-2020 15:31:49.682 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:49.683 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8201, duration=8285]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=8186, duration=8285]
09-07-2020 15:31:50.687 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:31:50.687 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9205, duration=9289]
	InflightExchange: [exchangeId=ID-arun-1594288900572-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=9190, duration=9289]
09-07-2020 15:31:50.867 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:31:50.868 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:31:50.874 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:31:50.875 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',500.00)
09-07-2020 15:31:50.887 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 15:31:51.080 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 15:31:51.102 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@5d37c783 for file: GenericFile[fileTest.txt]
09-07-2020 15:31:51.111 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288900572-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:31:51.706 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:31:51.707 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 8 seconds
09-07-2020 15:31:51.754 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 12.284 seconds
09-07-2020 15:31:51.755 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 8.126 seconds
09-07-2020 15:31:51.760 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:31:51.763 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 15:31:51.844 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
09-07-2020 15:31:51.848 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:31:51.849 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:31:51.851 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 11.446 seconds (11446 millis)
09-07-2020 15:31:51.852 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:31:51.853 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:33:08.617 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:33:08.625 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:33:08.627 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:33:08.790 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:33:08.939 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:33:08.967 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4233e892, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77d2e85, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58ffcbd7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@555cf22, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bb2d00b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3c9bfddc, org.springframework.test.context.event.EventPublishingTestExecutionListener@1a9c38eb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@319bc845, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@544820b7]
09-07-2020 15:33:09.020 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:33:09.746 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 8933 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:33:09.747 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:33:11.217 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$15c64f0e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:33:11.978 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:33:13.145 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:33:13.147 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:33:13.162 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.06 seconds (JVM running for 5.682)
09-07-2020 15:33:13.168 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:33:13.206 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:33:13.215 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:33:13.216 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:33:13.217 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:33:13.219 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:33:13.777 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:33:13.900 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:33:13.913 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:33:13.914 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.697 seconds
09-07-2020 15:33:14.920 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:33:14.997 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}]
09-07-2020 15:33:15.010 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:33:36.915 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:33:41.457 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:33:45.455 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594288994117-0-6 on ExchangeId: ID-arun-1594288994117-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:33:45.481 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:33:45.482 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:34:00.492 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:34:00.495 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:34:00.501 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:00.504 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=45507, duration=45600]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=15022, duration=45600]
09-07-2020 15:34:01.507 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:01.508 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=46511, duration=46604]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=16026, duration=46604]
09-07-2020 15:34:02.510 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:02.512 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=47515, duration=47608]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=17030, duration=47608]
09-07-2020 15:34:03.518 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:03.520 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=48523, duration=48616]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=18038, duration=48616]
09-07-2020 15:34:04.526 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:04.528 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=49531, duration=49624]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=19046, duration=49624]
09-07-2020 15:34:05.531 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:05.532 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=50535, duration=50628]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=20050, duration=50628]
09-07-2020 15:34:06.541 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:06.542 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=51545, duration=51638]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=21060, duration=51638]
09-07-2020 15:34:07.565 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:34:07.566 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=52569, duration=52662]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=22084, duration=52662]
09-07-2020 15:34:07.658 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:34:10.632 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=500.00}
09-07-2020 15:34:10.632 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 15:34:10.633 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 15:34:10.633 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:34:10.633 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=55636, duration=55729]
	InflightExchange: [exchangeId=ID-arun-1594288994117-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process2, elapsed=2974, duration=55729]
09-07-2020 15:34:25.420 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',500.00)
09-07-2020 15:34:25.435 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:34:25.436 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 24 seconds
09-07-2020 15:34:25.443 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@18e5f5a3 for file: GenericFile[fileTest.txt]
09-07-2020 15:34:25.464 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594288994117-0-2]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594288994117-0-7]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594288994117-0-7]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:34:25.479 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1 minute
09-07-2020 15:34:25.480 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 24.988 seconds
09-07-2020 15:34:25.483 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:34:25.484 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:34:25.485 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:34:25.485 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 1 minute (71569 millis)
09-07-2020 15:34:25.485 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:34:25.486 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:35:27.354 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:35:27.360 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:35:27.361 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:35:27.545 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:35:27.749 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:35:27.767 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:35:27.807 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:35:28.264 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 9324 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:35:28.265 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:35:29.419 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$a8215eed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:35:30.046 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:35:31.288 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:35:31.289 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:35:31.309 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.427 seconds (JVM running for 4.795)
09-07-2020 15:35:31.316 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:35:31.364 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:35:31.366 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:35:31.367 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:35:31.369 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:35:31.370 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:35:31.793 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:35:31.906 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:35:31.923 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:35:31.924 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.555 seconds
09-07-2020 15:35:32.928 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:35:32.983 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:35:32.994 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:35:32.994 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:35:32.994 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:35:32.995 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594289132098-0-6 on ExchangeId: ID-arun-1594289132098-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:35:33.001 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:35:33.001 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:35:35.172 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:35:35.177 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:35:35.199 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:35.204 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2220, duration=2285]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2203, duration=2285]
09-07-2020 15:35:36.210 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:36.210 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3226, duration=3291]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3209, duration=3291]
09-07-2020 15:35:37.216 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:37.217 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4233, duration=4298]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4216, duration=4298]
09-07-2020 15:35:38.219 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:38.221 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5237, duration=5302]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5220, duration=5302]
09-07-2020 15:35:39.224 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:39.226 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6242, duration=6307]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6225, duration=6307]
09-07-2020 15:35:40.229 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:35:40.231 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7246, duration=7311]
	InflightExchange: [exchangeId=ID-arun-1594289132098-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=7229, duration=7312]
09-07-2020 15:35:41.049 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6229cfe for file: GenericFile[fileTest.txt]
09-07-2020 15:35:41.065 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594289132098-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:35:41.247 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:35:41.249 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 6 seconds
09-07-2020 15:35:41.292 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 9.924 seconds
09-07-2020 15:35:41.293 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 6.121 seconds
09-07-2020 15:35:41.298 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:35:41.301 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:35:41.302 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:35:41.302 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 9.376 seconds (9376 millis)
09-07-2020 15:35:41.302 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:35:41.303 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:38:03.287 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:38:03.295 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:38:03.296 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:38:03.440 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:38:03.561 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:38:03.578 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:38:03.603 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:38:04.192 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 9751 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:38:04.192 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:38:05.214 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$209912ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:38:05.750 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:38:06.782 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:38:06.783 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:38:06.794 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.098 seconds (JVM running for 4.226)
09-07-2020 15:38:06.798 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:38:06.831 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:38:06.837 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:38:06.838 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:38:06.839 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:38:06.840 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:38:07.241 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:38:07.309 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:38:07.319 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:38:07.320 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.480 seconds
09-07-2020 15:38:08.326 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:38:08.415 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:38:08.434 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:38:08.435 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:38:08.436 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:38:08.437 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594289287472-0-6 on ExchangeId: ID-arun-1594289287472-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:38:08.446 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:38:08.447 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:38:10.539 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:38:10.541 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:38:10.549 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:10.551 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2135, duration=2235]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2104, duration=2235]
09-07-2020 15:38:11.552 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:11.554 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3138, duration=3238]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3107, duration=3238]
09-07-2020 15:38:12.555 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:12.556 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4140, duration=4240]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4109, duration=4240]
09-07-2020 15:38:13.557 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:13.558 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5142, duration=5242]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5111, duration=5242]
09-07-2020 15:38:14.564 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:14.566 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6150, duration=6250]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6119, duration=6250]
09-07-2020 15:38:15.569 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:38:15.570 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7154, duration=7254]
	InflightExchange: [exchangeId=ID-arun-1594289287472-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=7123, duration=7254]
09-07-2020 15:38:16.545 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@4acd4069 for file: GenericFile[fileTest.txt]
09-07-2020 15:38:16.564 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594289287472-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:38:16.591 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:38:16.592 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 6 seconds
09-07-2020 15:38:16.615 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 9.776 seconds
09-07-2020 15:38:16.616 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 6.077 seconds
09-07-2020 15:38:16.618 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:38:16.619 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:38:16.620 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:38:16.620 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 9.298 seconds (9298 millis)
09-07-2020 15:38:16.621 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:38:16.621 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:53:56.432 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:53:56.441 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:53:56.442 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:53:56.617 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:53:56.785 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:53:56.808 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:53:56.863 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:53:57.375 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 11907 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:53:57.375 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:53:58.565 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$43b55f30] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:53:59.145 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:54:00.260 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:54:00.262 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:54:00.282 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.352 seconds (JVM running for 4.837)
09-07-2020 15:54:00.289 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:54:00.332 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:54:00.334 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:54:00.335 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:54:00.336 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:54:00.337 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:54:00.849 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:54:00.933 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:54:00.946 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:54:00.948 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.612 seconds
09-07-2020 15:54:01.957 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:54:02.035 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:54:02.046 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:54:02.047 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:54:02.048 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:54:02.049 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594290241129-0-6 on ExchangeId: ID-arun-1594290241129-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:54:02.057 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:54:02.058 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@60233066 for file: GenericFile[fileTest.txt]
09-07-2020 15:54:02.067 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594290241129-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:54:04.153 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:54:04.156 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:54:04.178 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:54:04.180 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
09-07-2020 15:54:04.199 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.864 seconds
09-07-2020 15:54:04.200 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.047 seconds
09-07-2020 15:54:04.203 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:54:04.206 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:54:04.207 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:54:04.208 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.256 seconds (3256 millis)
09-07-2020 15:54:04.208 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:54:04.209 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:55:15.116 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:55:15.126 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:55:15.128 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:55:15.282 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:55:15.555 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:55:15.573 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4233e892, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@77d2e85, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58ffcbd7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@555cf22, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6bb2d00b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3c9bfddc, org.springframework.test.context.event.EventPublishingTestExecutionListener@1a9c38eb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@319bc845, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4c5474f5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2f4205be, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54e22bdd, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3bd418e4, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@544820b7]
09-07-2020 15:55:15.602 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:55:16.112 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 12252 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:55:16.113 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:55:17.373 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$18f50c2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:55:17.964 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:55:19.240 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:55:19.241 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:55:19.253 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.594 seconds (JVM running for 6.299)
09-07-2020 15:55:19.258 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:55:19.295 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:55:19.299 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:55:19.301 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:55:19.303 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:55:19.306 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:55:19.790 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:55:19.878 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:55:19.890 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:55:19.891 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.589 seconds
09-07-2020 15:55:20.888 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:55:20.960 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}]
09-07-2020 15:55:20.971 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:55:20.972 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:55:20.972 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:55:20.973 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594290320126-0-6 on ExchangeId: ID-arun-1594290320126-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:55:20.979 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:55:20.984 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:55:20.986 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:55:20.987 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:55:20.988 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',400.00)
09-07-2020 15:55:20.993 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 15:55:21.367 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 15:55:21.382 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@2f4ece94 for file: GenericFile[fileTest.txt]
09-07-2020 15:55:21.389 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594290320126-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:55:23.158 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:55:23.161 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:55:23.171 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:55:23.171 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
09-07-2020 15:55:23.183 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.881 seconds
09-07-2020 15:55:23.184 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.025 seconds
09-07-2020 15:55:23.187 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:55:23.188 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 15:55:23.223 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
09-07-2020 15:55:23.225 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:55:23.225 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:55:23.226 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.333 seconds (3333 millis)
09-07-2020 15:55:23.226 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:55:23.226 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:56:08.178 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:56:08.185 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:56:08.186 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:56:08.344 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:56:08.504 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:56:08.524 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:56:08.569 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:56:09.118 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 12562 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:56:09.119 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:56:10.203 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$209912ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:56:10.763 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:56:11.869 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:56:11.870 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:56:11.885 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.255 seconds (JVM running for 4.463)
09-07-2020 15:56:11.890 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:56:11.933 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:56:11.939 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:56:11.940 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:56:11.942 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:56:11.943 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:56:12.476 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:56:12.590 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:56:12.600 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:56:12.601 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.659 seconds
09-07-2020 15:56:13.601 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:56:13.647 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}]
09-07-2020 15:56:13.656 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:56:13.656 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:56:13.656 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:56:13.657 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594290372775-0-6 on ExchangeId: ID-arun-1594290372775-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:56:13.662 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:56:13.662 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:56:15.824 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:56:15.826 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:56:15.832 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:15.834 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2187, duration=2239]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2172, duration=2239]
09-07-2020 15:56:16.834 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:16.836 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3188, duration=3241]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3174, duration=3241]
09-07-2020 15:56:17.838 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:17.839 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4192, duration=4244]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4177, duration=4244]
09-07-2020 15:56:18.842 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:18.843 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5196, duration=5248]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5181, duration=5248]
09-07-2020 15:56:19.846 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:19.847 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6200, duration=6252]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=6185, duration=6252]
09-07-2020 15:56:20.849 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:56:20.851 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7204, duration=7256]
	InflightExchange: [exchangeId=ID-arun-1594290372775-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=7189, duration=7256]
09-07-2020 15:56:21.145 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:56:21.145 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:56:21.145 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:56:21.145 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',400.00)
09-07-2020 15:56:21.150 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 15:56:21.268 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 15:56:21.281 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6c8c1c44 for file: GenericFile[fileTest.txt]
09-07-2020 15:56:21.286 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594290372775-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:56:21.867 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:56:21.868 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 6 seconds
09-07-2020 15:56:21.905 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 9.963 seconds
09-07-2020 15:56:21.906 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 6.082 seconds
09-07-2020 15:56:21.911 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:56:21.912 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 15:56:21.965 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
09-07-2020 15:56:21.969 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:56:21.970 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:56:21.971 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 9.367 seconds (9367 millis)
09-07-2020 15:56:21.972 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:56:21.972 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:57:05.535 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 15:57:05.541 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 15:57:05.542 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 15:57:05.665 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:57:05.835 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 15:57:05.854 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 15:57:05.888 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 15:57:06.533 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 12882 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 15:57:06.534 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 15:57:07.745 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c14d74b8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 15:57:08.400 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 15:57:09.434 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 15:57:09.435 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 15:57:09.447 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.424 seconds (JVM running for 4.728)
09-07-2020 15:57:09.452 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 15:57:09.486 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 15:57:09.488 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 15:57:09.489 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 15:57:09.490 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 15:57:09.490 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 15:57:09.948 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 15:57:10.080 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 15:57:10.091 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 15:57:10.091 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.602 seconds
09-07-2020 15:57:11.098 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 15:57:11.156 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}]
09-07-2020 15:57:11.166 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:57:11.167 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:57:11.167 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 15:57:11.168 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594290430230-0-6 on ExchangeId: ID-arun-1594290430230-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 15:57:11.174 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 15:57:11.175 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 15:57:13.308 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 15:57:13.310 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 15:57:13.316 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:57:13.319 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2163, duration=2235]
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2144, duration=2235]
09-07-2020 15:57:14.321 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:57:14.322 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3166, duration=3238]
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3147, duration=3238]
09-07-2020 15:57:15.325 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:57:15.326 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4170, duration=4242]
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4151, duration=4242]
09-07-2020 15:57:16.328 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:57:16.329 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5173, duration=5245]
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5154, duration=5245]
09-07-2020 15:57:17.216 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:57:17.217 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 15:57:17.218 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 15:57:17.218 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',400.00)
09-07-2020 15:57:17.233 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 15:57:17.331 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 15:57:17.331 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6175, duration=6247]
	InflightExchange: [exchangeId=ID-arun-1594290430230-0-7, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=112, duration=6247]
09-07-2020 15:57:17.350 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 15:57:17.365 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@17172418 for file: GenericFile[fileTest.txt]
09-07-2020 15:57:17.370 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594290430230-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 15:57:18.347 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 15:57:18.350 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 5 seconds
09-07-2020 15:57:18.383 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 8.894 seconds
09-07-2020 15:57:18.383 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 5.075 seconds
09-07-2020 15:57:18.385 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 15:57:18.385 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 15:57:18.407 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
09-07-2020 15:57:18.408 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:57:18.409 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 15:57:18.409 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 8.316 seconds (8316 millis)
09-07-2020 15:57:18.409 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 15:57:18.409 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 16:13:39.790 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
09-07-2020 16:13:39.800 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 16:13:39.801 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 16:13:39.961 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 16:13:40.116 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 16:13:40.137 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
09-07-2020 16:13:40.170 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
09-07-2020 16:13:40.732 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 13730 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 16:13:40.733 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 16:13:41.852 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$18059d25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 16:13:42.417 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 16:13:43.504 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 16:13:43.504 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 16:13:43.516 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.255 seconds (JVM running for 4.521)
09-07-2020 16:13:43.520 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
09-07-2020 16:13:43.561 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 16:13:43.562 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
09-07-2020 16:13:43.563 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
09-07-2020 16:13:43.564 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 16:13:43.565 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 16:13:43.965 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 16:13:44.033 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 16:13:44.046 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 16:13:44.047 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.483 seconds
09-07-2020 16:13:45.052 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 16:13:45.110 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}]
09-07-2020 16:13:45.124 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:13:45.124 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:13:45.124 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 16:13:45.132 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594291424213-0-6 on ExchangeId: ID-arun-1594291424213-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 16:13:45.140 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:13:45.140 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 16:13:47.261 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 16:13:47.263 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 16:13:47.270 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 16:13:47.272 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2161, duration=2230]
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=2132, duration=2230]
09-07-2020 16:13:48.274 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 16:13:48.275 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3164, duration=3233]
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=3135, duration=3233]
09-07-2020 16:13:49.277 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 16:13:49.278 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4167, duration=4236]
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=4138, duration=4236]
09-07-2020 16:13:50.279 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 16:13:50.281 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5170, duration=5239]
	InflightExchange: [exchangeId=ID-arun-1594291424213-0-5, fromRouteId=route1, atRouteId=onException2, nodeId=process1, elapsed=5141, duration=5239]
09-07-2020 16:13:51.134 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 16:13:51.135 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='108', itemDescription='LG TV', price=400.00}
09-07-2020 16:13:51.135 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 16:13:51.135 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('108','LG TV',400.00)
09-07-2020 16:13:51.140 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 16:13:51.228 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 16:13:51.241 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6c00045c for file: GenericFile[fileTest.txt]
09-07-2020 16:13:51.247 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594291424213-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 16:13:51.285 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 16:13:51.286 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 4 seconds
09-07-2020 16:13:51.300 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 7.736 seconds
09-07-2020 16:13:51.301 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 4.040 seconds
09-07-2020 16:13:51.302 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 16:13:51.303 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 16:13:51.311 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
09-07-2020 16:13:51.312 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 16:13:51.312 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
09-07-2020 16:13:51.312 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 7.264 seconds (7264 millis)
09-07-2020 16:13:51.312 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
09-07-2020 16:13:51.313 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
09-07-2020 16:17:59.543 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
09-07-2020 16:17:59.549 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
09-07-2020 16:17:59.550 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
09-07-2020 16:17:59.637 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
09-07-2020 16:17:59.728 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
09-07-2020 16:17:59.741 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@e25951c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@15f47664, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@471a9022, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@dc9876b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2f666ebb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@19976a65, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@a1f72f5, org.springframework.test.context.event.EventPublishingTestExecutionListener@4b2c5e02, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57a3e26a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@75c56eb9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4bc222e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2dc9b0f5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6531a794, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3b5fad2d]
09-07-2020 16:18:00.089 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 14228 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 16:18:00.091 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 16:18:01.178 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$7f0fbad1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 16:18:01.787 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 16:18:03.222 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 16:18:03.224 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 16:18:03.234 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 16:18:03.235 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 16:18:03.640 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 16:18:03.706 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 16:18:03.718 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 16:18:03.719 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.485 seconds
09-07-2020 16:18:03.723 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 3.952 seconds (JVM running for 4.93)
09-07-2020 16:18:03.939 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 16:18:03.941 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 16:18:03.952 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 16:18:03.954 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
09-07-2020 16:18:03.970 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.737 seconds
09-07-2020 16:18:03.971 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.032 seconds
09-07-2020 16:18:03.973 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 16:20:56.319 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 14710 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
09-07-2020 16:20:56.322 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
09-07-2020 16:20:57.816 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$f917c3f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
09-07-2020 16:20:58.165 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
09-07-2020 16:20:58.191 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
09-07-2020 16:20:58.193 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
09-07-2020 16:20:58.195 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
09-07-2020 16:20:58.282 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
09-07-2020 16:20:58.283 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1872 ms
09-07-2020 16:20:58.633 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
09-07-2020 16:20:59.359 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
09-07-2020 16:20:59.389 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
09-07-2020 16:20:59.615 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
09-07-2020 16:20:59.617 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
09-07-2020 16:20:59.633 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
09-07-2020 16:20:59.634 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
09-07-2020 16:21:00.055 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
09-07-2020 16:21:00.147 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
09-07-2020 16:21:00.159 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
09-07-2020 16:21:00.159 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.527 seconds
09-07-2020 16:21:00.164 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 4.41 seconds (JVM running for 5.057)
09-07-2020 16:21:01.199 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 16:21:35.865 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
09-07-2020 16:21:35.888 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:21:35.892 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:21:35.895 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 16:21:35.895 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
09-07-2020 16:21:35.901 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
09-07-2020 16:21:36.255 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
09-07-2020 16:21:36.285 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
09-07-2020 16:21:36.285 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
09-07-2020 16:21:36.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 16:21:36.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
09-07-2020 16:21:36.302 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 16:22:13.898 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:22:13.899 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:22:13.899 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:22:13.900 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
09-07-2020 16:22:13.900 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594291861173-0-12 on ExchangeId: ID-arun-1594291861173-0-11). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
09-07-2020 16:22:13.907 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
09-07-2020 16:22:13.908 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.camel.alert.MailProcessor.process - Exception caught in mail processor -> SKU is null for Samsung TV
09-07-2020 16:22:19.962 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@5d28f43f for file: GenericFile[errFile.txt]
09-07-2020 16:22:19.988 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594291861173-0-8]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
09-07-2020 16:22:19.990 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 16:23:48.712 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:23:48.713 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:23:48.722 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:23:48.722 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 16:23:48.722 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='101'
09-07-2020 16:23:48.745 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 16:24:25.849 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:24:25.851 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:24:25.853 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
09-07-2020 16:24:25.861 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
09-07-2020 16:24:25.861 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
09-07-2020 16:24:25.883 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
09-07-2020 20:47:50.807 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool.run - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h17m44s433ms542s285ns).
09-07-2020 20:47:53.617 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
09-07-2020 20:47:53.631 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
09-07-2020 20:47:53.636 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:53.639 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15807747, duration=15807756]
09-07-2020 20:47:54.641 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:54.642 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15808750, duration=15808759]
09-07-2020 20:47:55.648 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:55.649 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15809757, duration=15809766]
09-07-2020 20:47:56.650 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:56.651 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15810759, duration=15810768]
09-07-2020 20:47:57.658 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:57.662 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15811770, duration=15811779]
09-07-2020 20:47:58.667 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:58.668 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15812776, duration=15812785]
09-07-2020 20:47:59.670 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:47:59.670 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15813778, duration=15813787]
09-07-2020 20:48:00.672 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:48:00.672 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15814780, duration=15814789]
09-07-2020 20:48:01.683 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:48:01.684 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15815792, duration=15815801]
09-07-2020 20:48:02.686 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
09-07-2020 20:48:02.688 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15816796, duration=15816805]
09-07-2020 20:48:03.636 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
09-07-2020 20:48:03.637 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
09-07-2020 20:48:03.638 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594291861173-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15817746, duration=15817755]
09-07-2020 20:48:03.651 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
09-07-2020 20:48:03.651 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
09-07-2020 20:48:03.693 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
09-07-2020 20:48:03.697 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 4 hours 27 minutes
09-07-2020 20:48:03.698 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.081 seconds
09-07-2020 20:48:03.716 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
09-07-2020 20:48:03.717 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
09-07-2020 20:48:03.745 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
