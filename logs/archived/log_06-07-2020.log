06-07-2020 13:08:00.251 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 13:08:00.282 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 13:08:00.284 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 13:08:00.516 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:08:00.650 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 13:08:00.673 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57d7f8ca, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76c3e77a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@67c33749, org.springframework.test.context.support.DirtiesContextTestExecutionListener@fba92d3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@662b4c69, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@fa49800, org.springframework.test.context.event.EventPublishingTestExecutionListener@71238fc2, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2a54a73f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@16a0ee18, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3d6f0054, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@505fc5a4, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fbdfdcf, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4efc180e]
06-07-2020 13:08:00.711 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:08:01.192 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 5903 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 13:08:01.192 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 13:08:03.082 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c18b3738] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 13:08:03.996 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 13:08:05.709 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 13:08:05.709 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 13:08:05.721 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.908 seconds (JVM running for 6.615)
06-07-2020 13:08:05.726 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 13:08:05.764 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:08:05.765 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 13:08:05.766 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 13:08:05.767 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 13:08:05.767 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 13:08:06.629 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 13:08:06.881 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 13:08:06.923 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 13:08:06.923 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 1.157 seconds
06-07-2020 13:08:07.898 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 13:08:08.037 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:08:08.045 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:08:08.045 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:08:08.045 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:08:08.073 [Camel (camel-1) thread #1 - timer://myTimer] ERROR errorInRoute.log - Exchange[ExchangePattern: InOnly, Properties: {CamelAggregationStrategy={Splitter[on: Simple: ${body} to: Pipeline[[Channel[Log(route1)[ Record is ${body}]], Channel[DelegateSync[io.arun.learning.camel.processor.BuildSQLProcessor@79b1a3ba]], Channel[sendTo(jdbc://dataSource)]]] aggregate: null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true, CamelBatchIndex=0, CamelBatchSize=1, CamelCorrelationId=ID-arun-1594021087589-0-2, CamelCreatedTimestamp=Mon Jul 06 13:08:07 IST 2020, CamelExceptionCaught=io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV, CamelExternalRedelivered=false, CamelFailureEndpoint=file://data/output?allowNullBody=true, CamelFailureRouteId=route1, CamelFatalFallbackErrorHandler=[route1], CamelFileExchangeFile=GenericFile[fileTest.txt], CamelMessageHistory=[DefaultMessageHistory[routeId=route1, node=log4], DefaultMessageHistory[routeId=route1, node=process1]], CamelSplitComplete=false, CamelSplitIndex=0, CamelSplitSize=2, CamelStreamCacheUnitOfWork=DefaultUnitOfWork, CamelTimerCounter=1, CamelTimerFiredTime=Mon Jul 06 13:08:07 IST 2020, CamelTimerName=myTimer, CamelTimerPeriod=10000, CamelToEndpoint=log://errorInRoute?level=ERROR&showProperties=true}, BodyType: io.arun.learning.camel.domain.Item, Body: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}]
06-07-2020 13:08:08.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:08:08.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:08:08.074 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:08:08.075 [Camel (camel-1) thread #1 - timer://myTimer] ERROR errorInRoute.log - Exchange[ExchangePattern: InOnly, Properties: {CamelAggregationStrategy={Splitter[on: Simple: ${body} to: Pipeline[[Channel[Log(route1)[ Record is ${body}]], Channel[DelegateSync[io.arun.learning.camel.processor.BuildSQLProcessor@79b1a3ba]], Channel[sendTo(jdbc://dataSource)]]] aggregate: null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true, CamelBatchIndex=0, CamelBatchSize=1, CamelCorrelationId=ID-arun-1594021087589-0-2, CamelCreatedTimestamp=Mon Jul 06 13:08:07 IST 2020, CamelExceptionCaught=io.arun.learning.camel.exception.DataException: SKU is null for LG TV, CamelExternalRedelivered=false, CamelFailureEndpoint=file://data/output?allowNullBody=true, CamelFailureRouteId=route1, CamelFatalFallbackErrorHandler=[route1], CamelFileExchangeFile=GenericFile[fileTest.txt], CamelMessageHistory=[DefaultMessageHistory[routeId=route1, node=log4], DefaultMessageHistory[routeId=route1, node=process1]], CamelSplitComplete=true, CamelSplitIndex=1, CamelSplitSize=2, CamelStreamCacheUnitOfWork=DefaultUnitOfWork, CamelTimerCounter=1, CamelTimerFiredTime=Mon Jul 06 13:08:07 IST 2020, CamelTimerName=myTimer, CamelTimerPeriod=10000, CamelToEndpoint=log://errorInRoute?level=ERROR&showProperties=true}, BodyType: io.arun.learning.camel.domain.Item, Body: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:08:10.638 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 13:08:10.639 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 13:08:10.645 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 13:08:10.646 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 13:08:10.654 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 4.888 seconds
06-07-2020 13:08:10.655 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.017 seconds
06-07-2020 13:08:10.660 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 13:08:10.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:08:10.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 13:08:10.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.734 seconds (3734 millis)
06-07-2020 13:08:10.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:08:10.661 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:11:56.009 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 13:11:56.017 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 13:11:56.018 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 13:11:56.149 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:11:56.271 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 13:11:56.295 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25e2ab5a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35e5d0e5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73173f63, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55562aa9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@655ef322, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e276594, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3401a114, org.springframework.test.context.event.EventPublishingTestExecutionListener@5066d65f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4233e892, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77d2e85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6bb2d00b]
06-07-2020 13:11:56.337 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:11:57.015 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 6441 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 13:11:57.016 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 13:11:58.974 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$e229b3c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 13:12:00.164 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 13:12:04.044 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 13:12:04.053 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 13:12:04.069 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 7.666 seconds (JVM running for 10.038)
06-07-2020 13:12:04.078 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 13:12:04.124 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:12:04.127 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 13:12:04.129 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 13:12:04.131 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 13:12:04.132 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 13:12:04.690 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 13:12:04.807 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 13:12:04.821 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 13:12:04.822 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.691 seconds
06-07-2020 13:12:05.843 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 13:12:05.934 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:12:05.945 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:12:05.945 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:12:05.945 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:12:53.120 [Camel (camel-1) thread #1 - timer://myTimer] ERROR errorInRoute.log - Exchange[ExchangePattern: InOnly, Properties: {CamelAggregationStrategy={Splitter[on: Simple: ${body} to: Pipeline[[Channel[Log(route1)[ Record is ${body}]], Channel[DelegateSync[io.arun.learning.camel.processor.BuildSQLProcessor@449052d2]], Channel[sendTo(jdbc://dataSource)]]] aggregate: null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true, CamelBatchIndex=0, CamelBatchSize=1, CamelCorrelationId=ID-arun-1594021325592-0-2, CamelCreatedTimestamp=Mon Jul 06 13:12:05 IST 2020, CamelExceptionCaught=io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV, CamelExternalRedelivered=false, CamelFailureEndpoint=file://data/output?allowNullBody=true, CamelFailureRouteId=route1, CamelFatalFallbackErrorHandler=[route1], CamelFileExchangeFile=GenericFile[fileTest.txt], CamelMessageHistory=[DefaultMessageHistory[routeId=route1, node=log4], DefaultMessageHistory[routeId=route1, node=process1]], CamelSplitComplete=false, CamelSplitIndex=0, CamelSplitSize=2, CamelStreamCacheUnitOfWork=DefaultUnitOfWork, CamelTimerCounter=1, CamelTimerFiredTime=Mon Jul 06 13:12:05 IST 2020, CamelTimerName=myTimer, CamelTimerPeriod=10000, CamelToEndpoint=log://errorInRoute?level=ERROR&showProperties=true}, BodyType: io.arun.learning.camel.domain.Item, Body: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}]
06-07-2020 13:12:53.122 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:12:53.122 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:12:53.122 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:13:03.986 [Camel (camel-1) thread #1 - timer://myTimer] ERROR errorInRoute.log - Exchange[ExchangePattern: InOnly, Properties: {CamelAggregationStrategy={Splitter[on: Simple: ${body} to: Pipeline[[Channel[Log(route1)[ Record is ${body}]], Channel[DelegateSync[io.arun.learning.camel.processor.BuildSQLProcessor@449052d2]], Channel[sendTo(jdbc://dataSource)]]] aggregate: null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true, CamelBatchIndex=0, CamelBatchSize=1, CamelCorrelationId=ID-arun-1594021325592-0-2, CamelCreatedTimestamp=Mon Jul 06 13:12:05 IST 2020, CamelExceptionCaught=io.arun.learning.camel.exception.DataException: SKU is null for LG TV, CamelExternalRedelivered=false, CamelFailureEndpoint=file://data/output?allowNullBody=true, CamelFailureRouteId=route1, CamelFatalFallbackErrorHandler=[route1], CamelFileExchangeFile=GenericFile[fileTest.txt], CamelMessageHistory=[DefaultMessageHistory[routeId=route1, node=log4], DefaultMessageHistory[routeId=route1, node=process1]], CamelSplitComplete=true, CamelSplitIndex=1, CamelSplitSize=2, CamelStreamCacheUnitOfWork=DefaultUnitOfWork, CamelTimerCounter=1, CamelTimerFiredTime=Mon Jul 06 13:12:05 IST 2020, CamelTimerName=myTimer, CamelTimerPeriod=10000, CamelToEndpoint=log://errorInRoute?level=ERROR&showProperties=true}, BodyType: io.arun.learning.camel.domain.Item, Body: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:13:03.995 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 13:13:04.001 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 13:13:04.037 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 13:13:04.038 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 13:13:04.059 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 59.929 seconds
06-07-2020 13:13:04.063 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.068 seconds
06-07-2020 13:13:04.066 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 13:13:04.068 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:13:04.070 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 13:13:04.070 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 59.245 seconds (59245 millis)
06-07-2020 13:13:04.070 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:13:04.071 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:35:14.868 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 13:35:14.878 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 13:35:14.880 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 13:35:15.135 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:35:15.330 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 13:35:15.348 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@35e5d0e5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@73173f63, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55562aa9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@655ef322, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7e276594, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3401a114, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5066d65f, org.springframework.test.context.event.EventPublishingTestExecutionListener@4233e892, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77d2e85, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3c9bfddc]
06-07-2020 13:35:15.378 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:35:15.864 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 7883 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 13:35:15.865 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 13:35:17.608 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$1669ed49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 13:35:18.189 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 13:35:19.809 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 13:35:19.809 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 13:35:19.824 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.387 seconds (JVM running for 6.065)
06-07-2020 13:35:19.828 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 13:35:19.864 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:35:19.865 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 13:35:19.866 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 13:35:19.867 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 13:35:19.868 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 13:35:20.268 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 13:35:20.342 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 13:35:20.355 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 13:35:20.356 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.489 seconds
06-07-2020 13:35:21.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 13:35:21.431 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:35:21.442 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:35:21.442 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:35:21.443 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:35:36.110 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-6 on ExchangeId: ID-arun-1594022720523-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:35:49.206 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:35:49.208 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:35:49.210 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-6 on ExchangeId: ID-arun-1594022720523-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:35:55.809 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:35:55.813 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:35:55.831 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-6 on ExchangeId: ID-arun-1594022720523-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:36:17.642 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:36:17.642 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:36:28.755 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-6 on ExchangeId: ID-arun-1594022720523-0-5). On delivery attempt: 3 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:36:28.762 [Camel (camel-1) thread #1 - timer://myTimer] ERROR errorInRoute.log - Exchange[ExchangePattern: InOnly, Properties: {CamelAggregationStrategy={Splitter[on: Simple: ${body} to: Pipeline[[Channel[Log(route1)[ Record is ${body}]], Channel[DelegateSync[io.arun.learning.camel.processor.BuildSQLProcessor@26f7154c]], Channel[sendTo(jdbc://dataSource)]]] aggregate: null]=UseOriginalAggregationStrategy}, CamelBatchComplete=true, CamelBatchIndex=0, CamelBatchSize=1, CamelCorrelationId=ID-arun-1594022720523-0-2, CamelCreatedTimestamp=Mon Jul 06 13:35:21 IST 2020, CamelExceptionCaught=io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV, CamelExternalRedelivered=false, CamelFailureEndpoint=file://data/output?allowNullBody=true, CamelFailureRouteId=route1, CamelFatalFallbackErrorHandler=[route1], CamelFileExchangeFile=GenericFile[fileTest.txt], CamelMessageHistory=[DefaultMessageHistory[routeId=route1, node=log4], DefaultMessageHistory[routeId=route1, node=process1]], CamelSplitComplete=false, CamelSplitIndex=0, CamelSplitSize=2, CamelStreamCacheUnitOfWork=DefaultUnitOfWork, CamelTimerCounter=1, CamelTimerFiredTime=Mon Jul 06 13:35:21 IST 2020, CamelTimerName=myTimer, CamelTimerPeriod=10000, CamelToEndpoint=log://errorInRoute?level=ERROR&showProperties=true}, BodyType: io.arun.learning.camel.domain.Item, Body: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}]
06-07-2020 13:36:28.762 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 13:36:28.764 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:36:28.764 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:36:28.765 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:36:40.296 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-8 on ExchangeId: ID-arun-1594022720523-0-7). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
06-07-2020 13:36:40.297 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 13:36:40.312 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:40.315 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=78883, duration=78967]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11551, duration=78967]
06-07-2020 13:36:41.316 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:41.317 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=79885, duration=79969]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12553, duration=79969]
06-07-2020 13:36:42.318 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:42.319 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=80887, duration=80971]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=13555, duration=80971]
06-07-2020 13:36:43.299 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 13:36:43.302 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:36:45.895 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:45.895 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022720523-0-8 on ExchangeId: ID-arun-1594022720523-0-7). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
06-07-2020 13:36:45.896 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=84464, duration=84548]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=17132, duration=84548]
06-07-2020 13:36:46.898 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:46.900 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=85468, duration=85552]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=18136, duration=85552]
06-07-2020 13:36:47.902 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:47.902 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=86470, duration=86554]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=19138, duration=86554]
06-07-2020 13:36:48.908 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:48.909 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=87477, duration=87561]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=20145, duration=87561]
06-07-2020 13:36:49.911 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:36:49.914 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=88481, duration=88566]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=21150, duration=88566]
06-07-2020 13:36:50.310 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 13:36:50.310 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 13:36:50.312 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=88879, duration=88963]
	InflightExchange: [exchangeId=ID-arun-1594022720523-0-7, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=21547, duration=88963]
06-07-2020 13:36:50.323 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 13:36:50.325 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 13:36:50.349 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 13:36:50.355 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 1 minute
06-07-2020 13:36:50.355 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 21.593 seconds
06-07-2020 13:36:50.361 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 13:36:50.362 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:36:50.363 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 13:36:50.363 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 1 minute (90005 millis)
06-07-2020 13:36:50.363 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:36:50.363 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:38:40.571 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 13:38:40.580 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 13:38:40.582 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 13:38:40.752 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:38:40.903 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 13:38:40.920 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 13:38:40.950 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 13:38:41.527 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 8403 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 13:38:41.528 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 13:38:42.577 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b6b6e691] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 13:38:43.080 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 13:38:44.010 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 13:38:44.011 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 13:38:44.024 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.996 seconds (JVM running for 4.704)
06-07-2020 13:38:44.028 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 13:38:44.059 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 13:38:44.061 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 13:38:44.062 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 13:38:44.063 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 13:38:44.066 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 13:38:44.433 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 13:38:44.515 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 13:38:44.526 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 13:38:44.526 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.463 seconds
06-07-2020 13:38:45.536 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 13:38:45.597 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 13:38:45.607 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:38:45.607 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:38:45.607 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:38:45.608 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022924682-0-6 on ExchangeId: ID-arun-1594022924682-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:38:47.721 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 13:38:47.723 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 13:38:47.728 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:47.730 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2132, duration=2209]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2123, duration=2209]
06-07-2020 13:38:48.617 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:38:48.618 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:38:48.620 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022924682-0-6 on ExchangeId: ID-arun-1594022924682-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:38:48.731 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:48.732 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3134, duration=3211]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3125, duration=3211]
06-07-2020 13:38:49.733 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:49.734 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4136, duration=4213]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4127, duration=4213]
06-07-2020 13:38:50.735 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:50.736 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5138, duration=5215]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5129, duration=5215]
06-07-2020 13:38:51.740 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:51.740 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6142, duration=6219]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6133, duration=6219]
06-07-2020 13:38:52.743 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:52.744 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7146, duration=7223]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7137, duration=7223]
06-07-2020 13:38:53.745 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:53.745 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8147, duration=8224]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8138, duration=8224]
06-07-2020 13:38:54.621 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 13:38:54.622 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 13:38:54.623 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594022924682-0-6 on ExchangeId: ID-arun-1594022924682-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 13:38:54.746 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:54.747 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9149, duration=9226]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9140, duration=9226]
06-07-2020 13:38:55.750 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:55.750 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10152, duration=10229]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10143, duration=10229]
06-07-2020 13:38:56.751 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 13:38:56.752 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11154, duration=11231]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11145, duration=11231]
06-07-2020 13:38:57.728 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 13:38:57.727 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 13:38:57.732 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12134, duration=12211]
	InflightExchange: [exchangeId=ID-arun-1594022924682-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12125, duration=12211]
06-07-2020 13:38:57.736 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 13:38:57.736 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 13:38:57.751 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 13:38:57.759 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.696 seconds
06-07-2020 13:38:57.759 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.038 seconds
06-07-2020 13:38:57.762 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 13:38:57.763 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:38:57.764 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 13:38:57.764 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.234 seconds (13234 millis)
06-07-2020 13:38:57.764 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 13:38:57.764 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:26:10.752 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:26:10.763 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:26:10.767 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:26:10.920 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:26:11.067 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:26:11.085 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25e2ab5a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35e5d0e5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73173f63, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55562aa9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@655ef322, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e276594, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3401a114, org.springframework.test.context.event.EventPublishingTestExecutionListener@5066d65f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4233e892, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77d2e85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6bb2d00b]
06-07-2020 14:26:11.113 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:26:11.605 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 10780 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:26:11.607 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:26:13.334 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$9fab7298] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:26:13.993 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:26:15.372 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:26:15.373 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:26:15.391 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.207 seconds (JVM running for 6.376)
06-07-2020 14:26:15.398 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:26:15.456 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:26:15.458 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:26:15.460 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:26:15.462 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:26:15.464 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:26:16.135 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:26:16.284 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:26:16.308 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:26:16.311 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.848 seconds
06-07-2020 14:26:17.308 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:26:17.483 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:26:17.498 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:26:17.498 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:26:17.499 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:26:38.784 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - Exception in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:26:38.792 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:26:38.792 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594025776580-0-5 on ExchangeId: ID-arun-1594025776580-0-4). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[Exception in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [     21495]
[route1            ] [log5              ] [log                                                                           ] [         0]
[route1            ] [process1          ] [Processor@0x225fddc2                                                          ] [         0]
[onException1      ] [log1              ] [log                                                                           ] [         5]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:26:38.793 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:26:38.794 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:26:38.794 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:26:38.794 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:26:40.731 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - Exception in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:26:40.734 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594025776580-0-7 on ExchangeId: ID-arun-1594025776580-0-6). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[Exception in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [     23440]
[route1            ] [log5              ] [log                                                                           ] [         0]
[route1            ] [process1          ] [Processor@0x225fddc2                                                          ] [         0]
[onException1      ] [log1              ] [log                                                                           ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:26:40.736 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@333455b3 for file: GenericFile[fileTest.txt]
06-07-2020 14:26:40.743 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594025776580-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:26:40.753 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:26:40.754 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 1 seconds
06-07-2020 14:26:40.778 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 25.316 seconds
06-07-2020 14:26:40.779 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 1.987 seconds
06-07-2020 14:26:40.780 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:26:40.782 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:26:40.783 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:26:40.784 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 24.465 seconds (24465 millis)
06-07-2020 14:26:40.784 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:26:40.785 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:33:58.510 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:33:58.517 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:33:58.518 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:33:58.680 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:33:58.843 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:33:58.870 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:34:45.939 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:34:45.947 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:34:45.949 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:34:46.099 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:34:46.249 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:34:46.263 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:34:46.299 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:34:46.834 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 11489 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:34:46.834 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:34:47.923 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b6b6e691] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:34:48.474 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:34:49.564 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:34:49.565 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:34:49.577 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.179 seconds (JVM running for 4.336)
06-07-2020 14:34:49.584 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:34:49.620 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:34:49.622 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:34:49.622 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:34:49.623 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:34:49.624 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:34:50.040 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:34:50.150 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:34:50.159 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:34:50.160 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.537 seconds
06-07-2020 14:34:51.173 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:34:51.240 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:34:51.250 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:34:51.251 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:34:51.251 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:34:51.256 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:34:51.258 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026290317-0-6 on ExchangeId: ID-arun-1594026290317-0-5). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [       102]
[route1            ] [log6              ] [log                                                                           ] [         1]
[route1            ] [process1          ] [Processor@0x74e2f310                                                          ] [         0]
[onException2      ] [log2              ] [log                                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:34:51.260 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:34:51.261 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:34:51.261 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:34:51.261 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:34:51.262 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026290317-0-8 on ExchangeId: ID-arun-1594026290317-0-7). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [       106]
[route1            ] [log6              ] [log                                                                           ] [         0]
[route1            ] [process1          ] [Processor@0x74e2f310                                                          ] [         0]
[onException2      ] [log2              ] [log                                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:34:51.262 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@32c2e6e for file: GenericFile[fileTest.txt]
06-07-2020 14:34:51.267 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594026290317-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:34:53.359 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:34:53.362 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:34:53.376 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:34:53.377 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 14:34:53.396 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.773 seconds
06-07-2020 14:34:53.397 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.038 seconds
06-07-2020 14:34:53.400 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:34:53.402 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:34:53.402 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:34:53.402 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.241 seconds (3241 millis)
06-07-2020 14:34:53.402 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:34:53.403 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:36:45.016 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:36:45.022 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:36:45.023 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:36:45.145 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:36:45.252 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:36:45.271 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:36:45.298 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:36:45.834 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 11836 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:36:45.835 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:36:47.185 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:36:47.681 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:36:48.649 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:36:48.650 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:36:48.663 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.307 seconds (JVM running for 4.342)
06-07-2020 14:36:48.668 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:36:48.706 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:36:48.708 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:36:48.713 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:36:48.715 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:36:48.717 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:36:49.149 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:36:49.266 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:36:49.278 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:36:49.279 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.564 seconds
06-07-2020 14:36:50.289 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:36:50.427 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:36:50.439 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:36:50.440 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:36:50.440 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:36:50.446 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:36:50.449 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026409434-0-6 on ExchangeId: ID-arun-1594026409434-0-5). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [       175]
[route1            ] [log6              ] [log                                                                           ] [         0]
[route1            ] [process1          ] [Processor@0x1dc1221e                                                          ] [         0]
[onException2      ] [log2              ] [log                                                                           ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:36:50.451 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:36:50.452 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:36:50.453 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:36:50.453 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}
06-07-2020 14:36:50.454 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026409434-0-8 on ExchangeId: ID-arun-1594026409434-0-7). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [       182]
[route1            ] [log6              ] [log                                                                           ] [         1]
[route1            ] [process1          ] [Processor@0x1dc1221e                                                          ] [         0]
[onException2      ] [log2              ] [log                                                                           ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:36:50.455 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@48731116 for file: GenericFile[fileTest.txt]
06-07-2020 14:36:50.457 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594026409434-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:36:52.461 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:36:52.463 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:36:52.472 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:36:52.472 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 14:36:52.487 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.772 seconds
06-07-2020 14:36:52.487 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.026 seconds
06-07-2020 14:36:52.489 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:36:52.490 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:36:52.490 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:36:52.491 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.208 seconds (3208 millis)
06-07-2020 14:36:52.491 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:36:52.491 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:38:18.694 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:38:18.701 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:38:18.702 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:38:18.834 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:38:18.951 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:38:18.968 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:38:19.016 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:38:19.536 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 12185 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:38:19.537 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:38:20.525 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$a525c5b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:38:21.013 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:38:21.914 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:38:21.915 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:38:21.927 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.831 seconds (JVM running for 4.029)
06-07-2020 14:38:21.931 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:38:21.960 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:38:21.962 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:38:21.962 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:38:21.963 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:38:21.964 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:38:22.687 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:38:22.777 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:38:22.783 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:38:22.784 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.820 seconds
06-07-2020 14:38:23.788 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:38:23.851 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 14:38:23.863 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:38:23.864 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:38:23.864 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:38:23.875 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:38:23.881 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026502932-0-6 on ExchangeId: ID-arun-1594026502932-0-5). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [        98]
[route1            ] [log6              ] [log                                                                           ] [         1]
[route1            ] [process1          ] [Processor@0x509f7829                                                          ] [         0]
[onException2      ] [log2              ] [log                                                                           ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:38:23.884 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 14:38:23.884 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 14:38:23.885 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 14:38:23.885 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 14:38:23.890 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 14:38:24.185 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 14:38:24.201 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@1f167a6d for file: GenericFile[fileTest.txt]
06-07-2020 14:38:24.207 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594026502932-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 14:38:25.967 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:38:25.970 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:38:25.987 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:38:25.987 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 14:38:26.009 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 4.045 seconds
06-07-2020 14:38:26.009 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.042 seconds
06-07-2020 14:38:26.011 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:38:26.011 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 14:38:26.041 [main] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 14:38:26.048 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:38:26.049 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:38:26.049 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.263 seconds (3263 millis)
06-07-2020 14:38:26.049 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:38:26.049 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:42:59.800 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:42:59.807 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:42:59.808 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:42:59.953 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:43:00.093 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:43:00.120 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:43:00.158 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:43:00.865 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 12738 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:43:00.866 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:43:01.919 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$fdf25cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:43:02.426 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:43:03.492 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:43:03.493 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:43:03.504 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.269 seconds (JVM running for 4.395)
06-07-2020 14:43:03.508 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:43:03.541 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:43:03.542 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:43:03.543 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:43:03.545 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:43:03.546 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:43:03.933 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:43:03.997 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:43:04.010 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:43:04.010 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.466 seconds
06-07-2020 14:43:05.018 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:43:05.083 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 14:43:05.099 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:43:05.099 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:43:05.099 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:43:05.101 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026784132-0-6 on ExchangeId: ID-arun-1594026784132-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:43:07.162 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:43:07.163 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:43:07.170 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:07.172 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2088, duration=2170]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2073, duration=2170]
06-07-2020 14:43:08.114 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:43:08.116 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:43:08.118 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026784132-0-6 on ExchangeId: ID-arun-1594026784132-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:43:08.173 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:08.174 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3090, duration=3172]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3075, duration=3172]
06-07-2020 14:43:09.177 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:09.178 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4094, duration=4176]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4079, duration=4176]
06-07-2020 14:43:10.181 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:10.182 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5098, duration=5180]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5083, duration=5180]
06-07-2020 14:43:11.184 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:11.185 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6101, duration=6183]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6086, duration=6183]
06-07-2020 14:43:12.188 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:12.189 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7105, duration=7187]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7090, duration=7187]
06-07-2020 14:43:13.194 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:13.196 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8112, duration=8194]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8097, duration=8194]
06-07-2020 14:43:14.122 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:43:14.123 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:43:14.124 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594026784132-0-6 on ExchangeId: ID-arun-1594026784132-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:43:14.200 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:14.201 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9117, duration=9199]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9102, duration=9199]
06-07-2020 14:43:15.204 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:15.205 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10121, duration=10203]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10106, duration=10203]
06-07-2020 14:43:16.207 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:43:16.208 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11124, duration=11206]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11109, duration=11206]
06-07-2020 14:43:17.168 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 14:43:17.169 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 14:43:17.170 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12086, duration=12168]
	InflightExchange: [exchangeId=ID-arun-1594026784132-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12071, duration=12168]
06-07-2020 14:43:17.188 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:43:17.189 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 14:43:17.209 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 14:43:17.212 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.668 seconds
06-07-2020 14:43:17.212 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.050 seconds
06-07-2020 14:43:17.214 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:43:17.215 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:43:17.216 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:43:17.216 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.204 seconds (13204 millis)
06-07-2020 14:43:17.216 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:43:17.216 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:49:28.439 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:49:28.452 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:49:28.453 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:49:28.617 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:49:28.784 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:49:28.801 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:49:28.837 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:49:29.305 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 13337 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:49:29.306 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:49:30.334 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$763916dc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:49:30.938 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:49:31.890 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:49:31.891 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:49:31.902 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.998 seconds (JVM running for 4.898)
06-07-2020 14:49:31.906 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:49:31.935 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:49:31.936 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:49:31.938 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:49:31.939 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:49:31.940 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:49:32.290 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:49:32.362 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:49:32.379 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:49:32.381 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.441 seconds
06-07-2020 14:49:33.378 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:49:33.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 14:49:33.487 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:49:33.488 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:49:33.488 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:49:33.490 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027172542-0-6 on ExchangeId: ID-arun-1594027172542-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:49:35.588 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:49:35.591 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:49:35.599 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:35.600 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2127, duration=2233]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2112, duration=2233]
06-07-2020 14:49:36.502 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:49:36.503 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:49:36.504 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027172542-0-6 on ExchangeId: ID-arun-1594027172542-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:49:36.601 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:36.603 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3129, duration=3235]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3114, duration=3235]
06-07-2020 14:49:37.605 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:37.607 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4133, duration=4239]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4119, duration=4240]
06-07-2020 14:49:38.612 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:38.612 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5139, duration=5245]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5124, duration=5245]
06-07-2020 14:49:39.614 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:39.616 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6143, duration=6249]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6128, duration=6249]
06-07-2020 14:49:40.618 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:40.619 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7146, duration=7252]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7131, duration=7252]
06-07-2020 14:49:41.621 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:41.623 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8150, duration=8256]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8135, duration=8256]
06-07-2020 14:49:42.504 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:49:42.505 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:49:42.505 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027172542-0-6 on ExchangeId: ID-arun-1594027172542-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:49:42.626 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:42.628 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9155, duration=9261]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9140, duration=9261]
06-07-2020 14:49:43.629 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:43.631 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10157, duration=10263]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10143, duration=10264]
06-07-2020 14:49:44.633 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:49:44.634 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11161, duration=11267]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11146, duration=11267]
06-07-2020 14:49:45.598 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 14:49:45.599 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 14:49:45.600 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12127, duration=12233]
	InflightExchange: [exchangeId=ID-arun-1594027172542-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12112, duration=12233]
06-07-2020 14:49:45.616 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:49:45.616 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 14:49:45.645 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 14:49:45.649 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.710 seconds
06-07-2020 14:49:45.650 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.062 seconds
06-07-2020 14:49:45.653 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:49:45.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:49:45.661 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:49:45.662 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.279 seconds (13279 millis)
06-07-2020 14:49:45.662 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:49:45.663 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:52:50.925 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:52:50.931 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:52:50.932 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:52:51.059 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:52:51.190 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:52:51.207 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:52:51.232 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:52:51.834 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 13746 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:52:51.835 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:52:52.827 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:52:53.331 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:52:54.270 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:52:54.271 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:52:54.282 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.989 seconds (JVM running for 4.017)
06-07-2020 14:52:54.289 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:52:54.332 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:52:54.337 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:52:54.338 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:52:54.339 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:52:54.340 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:52:54.744 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:52:54.839 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:52:54.850 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:52:54.851 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.512 seconds
06-07-2020 14:52:55.862 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:52:55.915 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:52:55.926 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:52:55.926 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:52:55.927 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:52:55.928 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027374998-0-6 on ExchangeId: ID-arun-1594027374998-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:52:58.041 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:52:58.045 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:52:58.053 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:52:58.055 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2140, duration=2211]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2129, duration=2211]
06-07-2020 14:52:58.937 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:52:58.938 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:52:58.940 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027374998-0-6 on ExchangeId: ID-arun-1594027374998-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:52:59.059 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:52:59.060 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3145, duration=3216]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3134, duration=3216]
06-07-2020 14:53:00.062 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:00.063 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4148, duration=4219]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4137, duration=4219]
06-07-2020 14:53:01.064 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:01.065 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5150, duration=5221]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5139, duration=5221]
06-07-2020 14:53:02.067 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:02.068 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6153, duration=6224]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6142, duration=6224]
06-07-2020 14:53:03.070 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:03.072 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7157, duration=7228]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7146, duration=7228]
06-07-2020 14:53:04.073 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:04.074 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8159, duration=8230]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8148, duration=8230]
06-07-2020 14:53:04.942 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:53:04.943 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:53:04.945 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027374998-0-6 on ExchangeId: ID-arun-1594027374998-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:53:05.075 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:05.077 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9162, duration=9233]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9151, duration=9233]
06-07-2020 14:53:06.079 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:06.080 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10165, duration=10236]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10154, duration=10236]
06-07-2020 14:53:07.082 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:53:07.083 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11168, duration=11239]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11157, duration=11239]
06-07-2020 14:53:08.051 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 14:53:08.053 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 14:53:08.053 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12138, duration=12209]
	InflightExchange: [exchangeId=ID-arun-1594027374998-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12127, duration=12209]
06-07-2020 14:53:08.072 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 14:53:08.073 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:53:08.107 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 14:53:08.113 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.774 seconds
06-07-2020 14:53:08.114 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.072 seconds
06-07-2020 14:53:08.116 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:53:08.118 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:53:08.119 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:53:08.119 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.266 seconds (13266 millis)
06-07-2020 14:53:08.119 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:53:08.120 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:55:02.507 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:55:02.515 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:55:02.516 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:55:02.662 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:55:03.305 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:55:03.318 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:55:03.337 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:55:03.678 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 14099 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:55:03.679 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:55:05.305 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ad0f3c59] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:55:05.798 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:55:06.760 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:55:06.760 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:55:06.770 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.375 seconds (JVM running for 4.946)
06-07-2020 14:55:06.775 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:55:06.807 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:55:06.808 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:55:06.809 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:55:06.810 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:55:06.811 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:55:07.190 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:55:07.264 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:55:07.274 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:55:07.275 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.464 seconds
06-07-2020 14:55:08.285 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:55:08.354 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:55:08.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:55:08.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:55:08.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:55:08.364 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027507459-0-6 on ExchangeId: ID-arun-1594027507459-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:55:10.480 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:55:10.481 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:55:10.485 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:10.487 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2132, duration=2219]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2124, duration=2219]
06-07-2020 14:55:11.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:55:11.374 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:55:11.376 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027507459-0-6 on ExchangeId: ID-arun-1594027507459-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:55:11.488 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:11.489 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3134, duration=3221]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3126, duration=3221]
06-07-2020 14:55:12.490 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:12.492 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4137, duration=4224]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4129, duration=4224]
06-07-2020 14:55:13.493 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:13.493 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5138, duration=5225]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5130, duration=5225]
06-07-2020 14:55:14.495 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:14.495 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6140, duration=6227]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6132, duration=6227]
06-07-2020 14:55:15.497 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:15.497 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7142, duration=7229]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7134, duration=7229]
06-07-2020 14:55:16.498 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:16.498 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8143, duration=8230]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8135, duration=8230]
06-07-2020 14:55:17.378 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:55:17.379 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:55:17.380 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027507459-0-6 on ExchangeId: ID-arun-1594027507459-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:55:17.500 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:17.501 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9146, duration=9233]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9138, duration=9233]
06-07-2020 14:55:18.502 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:18.503 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10148, duration=10235]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10140, duration=10235]
06-07-2020 14:55:19.504 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:55:19.505 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11150, duration=11237]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11142, duration=11237]
06-07-2020 14:55:20.485 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 14:55:20.485 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 14:55:20.486 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12131, duration=12218]
	InflightExchange: [exchangeId=ID-arun-1594027507459-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12123, duration=12218]
06-07-2020 14:55:20.501 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:55:20.501 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 14:55:20.517 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 14:55:20.521 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.711 seconds
06-07-2020 14:55:20.522 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.042 seconds
06-07-2020 14:55:20.523 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:55:20.525 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:55:20.525 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:55:20.525 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.249 seconds (13249 millis)
06-07-2020 14:55:20.525 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:55:20.525 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:57:25.388 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 14:57:25.395 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 14:57:25.396 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 14:57:25.548 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:57:25.673 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 14:57:25.697 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 14:57:25.721 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 14:57:26.278 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 14612 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 14:57:26.278 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 14:57:28.007 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$4d8e6083] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 14:57:29.140 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 14:57:30.100 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 14:57:30.100 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 14:57:30.109 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.325 seconds (JVM running for 5.441)
06-07-2020 14:57:30.113 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 14:57:30.147 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 14:57:30.148 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 14:57:30.149 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 14:57:30.150 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 14:57:30.150 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 14:57:30.552 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 14:57:30.615 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 14:57:30.625 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 14:57:30.625 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.476 seconds
06-07-2020 14:57:31.630 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 14:57:31.701 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 14:57:31.710 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:57:31.711 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:57:31.711 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:57:31.712 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027650765-0-6 on ExchangeId: ID-arun-1594027650765-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:57:33.795 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 14:57:33.797 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 14:57:33.800 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:33.802 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2099, duration=2183]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2091, duration=2183]
06-07-2020 14:57:34.756 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:57:34.757 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:57:34.759 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027650765-0-6 on ExchangeId: ID-arun-1594027650765-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:57:34.805 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:34.806 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3103, duration=3187]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3095, duration=3187]
06-07-2020 14:57:35.807 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:35.808 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4105, duration=4189]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4097, duration=4189]
06-07-2020 14:57:36.809 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:36.809 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5106, duration=5190]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5098, duration=5190]
06-07-2020 14:57:37.810 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:37.811 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6108, duration=6192]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6100, duration=6192]
06-07-2020 14:57:38.812 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:38.813 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7109, duration=7193]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7102, duration=7194]
06-07-2020 14:57:39.815 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:39.816 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8113, duration=8197]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8105, duration=8197]
06-07-2020 14:57:40.761 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 14:57:40.762 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 14:57:40.763 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027650765-0-6 on ExchangeId: ID-arun-1594027650765-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 14:57:40.817 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:40.817 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9114, duration=9198]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9106, duration=9198]
06-07-2020 14:57:41.822 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:41.822 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10119, duration=10203]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10111, duration=10203]
06-07-2020 14:57:42.823 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 14:57:42.824 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11121, duration=11205]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11113, duration=11205]
06-07-2020 14:57:43.801 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 14:57:43.800 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 14:57:43.802 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12098, duration=12182]
	InflightExchange: [exchangeId=ID-arun-1594027650765-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12090, duration=12183]
06-07-2020 14:57:43.806 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 14:57:43.806 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 14:57:43.818 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 14:57:43.821 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.672 seconds
06-07-2020 14:57:43.821 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.026 seconds
06-07-2020 14:57:43.823 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 14:57:43.824 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:57:43.824 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 14:57:43.825 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.198 seconds (13198 millis)
06-07-2020 14:57:43.825 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 14:57:43.825 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:01:35.405 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:01:35.414 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:01:35.415 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:01:35.632 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:01:35.816 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:01:35.832 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@25e2ab5a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@35e5d0e5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@73173f63, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@55562aa9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@655ef322, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7e276594, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3401a114, org.springframework.test.context.event.EventPublishingTestExecutionListener@5066d65f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4233e892, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@77d2e85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6bb2d00b]
06-07-2020 15:01:35.870 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:01:36.628 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 15070 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:01:36.629 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:01:38.271 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d4495a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:01:39.414 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:01:40.936 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:01:40.937 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:01:40.950 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 5.001 seconds (JVM running for 6.728)
06-07-2020 15:01:40.956 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:01:40.999 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:01:41.002 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:01:41.003 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:01:41.004 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:01:41.005 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:01:41.576 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:01:41.664 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:01:41.680 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:01:41.681 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.677 seconds
06-07-2020 15:01:42.693 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:01:42.853 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 15:01:42.867 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:01:42.868 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:01:42.868 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:01:42.869 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027901963-0-6 on ExchangeId: ID-arun-1594027901963-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:01:45.008 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:01:45.011 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:01:45.017 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:45.019 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2165, duration=2351]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2152, duration=2351]
06-07-2020 15:01:45.882 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:01:45.883 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:01:45.887 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027901963-0-6 on ExchangeId: ID-arun-1594027901963-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:01:46.021 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:46.022 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3168, duration=3354]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3155, duration=3354]
06-07-2020 15:01:47.026 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:47.028 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4174, duration=4360]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4161, duration=4360]
06-07-2020 15:01:48.032 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:48.033 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5179, duration=5365]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5166, duration=5365]
06-07-2020 15:01:49.035 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:49.037 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6183, duration=6369]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6170, duration=6369]
06-07-2020 15:01:50.039 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:50.040 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7186, duration=7372]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7173, duration=7372]
06-07-2020 15:01:51.043 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:51.044 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8190, duration=8376]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8177, duration=8376]
06-07-2020 15:01:51.890 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:01:51.891 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:01:51.893 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594027901963-0-6 on ExchangeId: ID-arun-1594027901963-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:01:52.046 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:52.048 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9193, duration=9380]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9181, duration=9380]
06-07-2020 15:01:53.049 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:53.050 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10196, duration=10382]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10183, duration=10382]
06-07-2020 15:01:54.052 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:01:54.053 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11199, duration=11385]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11186, duration=11385]
06-07-2020 15:01:55.017 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:01:55.017 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:01:55.018 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12164, duration=12350]
	InflightExchange: [exchangeId=ID-arun-1594027901963-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12151, duration=12350]
06-07-2020 15:01:55.030 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:01:55.030 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:01:55.046 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:01:55.052 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 14.048 seconds
06-07-2020 15:01:55.052 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.044 seconds
06-07-2020 15:01:55.057 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:01:55.058 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:01:55.059 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:01:55.059 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.376 seconds (13376 millis)
06-07-2020 15:01:55.059 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:01:55.059 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:09:08.314 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:09:08.321 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:09:08.322 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:09:08.470 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:09:08.645 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:09:08.667 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 15:09:08.697 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:09:09.393 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 15744 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:09:09.394 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:09:10.484 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$908ef28b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:09:10.967 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:09:12.392 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:09:12.393 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:09:12.403 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.626 seconds (JVM running for 4.863)
06-07-2020 15:09:12.407 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:09:12.437 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:09:12.438 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:09:12.440 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:09:12.441 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:09:12.441 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:09:12.831 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:09:12.903 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:09:12.912 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:09:12.913 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.472 seconds
06-07-2020 15:09:13.923 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:09:13.988 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 15:09:13.997 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:09:13.997 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:09:13.997 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:09:13.998 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594028353080-0-6 on ExchangeId: ID-arun-1594028353080-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:09:16.126 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:09:16.128 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:09:16.133 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:16.134 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2145, duration=2226]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2137, duration=2226]
06-07-2020 15:09:17.007 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:09:17.008 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:09:17.009 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594028353080-0-6 on ExchangeId: ID-arun-1594028353080-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:09:17.136 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:17.137 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3148, duration=3229]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3140, duration=3229]
06-07-2020 15:09:18.139 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:18.140 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4151, duration=4232]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4143, duration=4232]
06-07-2020 15:09:19.142 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:19.143 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5154, duration=5235]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5146, duration=5235]
06-07-2020 15:09:20.145 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:20.146 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6157, duration=6238]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6149, duration=6238]
06-07-2020 15:09:21.149 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:21.150 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7161, duration=7242]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7153, duration=7242]
06-07-2020 15:09:22.152 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:22.153 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8164, duration=8245]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8156, duration=8245]
06-07-2020 15:09:23.014 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:09:23.015 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:09:23.016 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594028353080-0-6 on ExchangeId: ID-arun-1594028353080-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:09:23.154 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:23.156 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9167, duration=9248]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9159, duration=9248]
06-07-2020 15:09:24.158 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:24.159 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10170, duration=10251]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10162, duration=10251]
06-07-2020 15:09:25.170 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:09:25.171 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11182, duration=11263]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11174, duration=11263]
06-07-2020 15:09:26.132 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:09:26.132 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:09:26.134 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12145, duration=12226]
	InflightExchange: [exchangeId=ID-arun-1594028353080-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12137, duration=12226]
06-07-2020 15:09:26.147 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:09:26.147 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:09:26.184 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:09:26.194 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.754 seconds
06-07-2020 15:09:26.195 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.069 seconds
06-07-2020 15:09:26.198 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:09:26.200 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:09:26.201 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:09:26.202 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.286 seconds (13286 millis)
06-07-2020 15:09:26.202 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:09:26.202 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:11:49.610 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:11:49.617 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:11:49.618 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:11:49.779 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:11:49.938 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:11:49.967 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 15:11:50.009 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:11:50.499 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 16227 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:11:50.500 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:11:51.493 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:11:52.020 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:11:52.952 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:11:52.953 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:11:52.966 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.843 seconds (JVM running for 4.224)
06-07-2020 15:11:52.972 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:11:53.010 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:11:53.012 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:11:53.013 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:11:53.014 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:11:53.015 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:11:53.402 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:11:53.495 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:11:53.510 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:11:53.510 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.496 seconds
06-07-2020 15:11:54.521 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:11:54.566 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=400.00}]
06-07-2020 15:11:54.574 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:11:54.575 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:11:54.575 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:11:54.576 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594028513669-0-6 on ExchangeId: ID-arun-1594028513669-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:11:56.723 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:11:56.726 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:11:56.732 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:11:56.734 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2168, duration=2225]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2159, duration=2225]
06-07-2020 15:11:57.587 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:11:57.589 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:11:57.590 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594028513669-0-6 on ExchangeId: ID-arun-1594028513669-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:11:57.736 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:11:57.737 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3171, duration=3228]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3162, duration=3228]
06-07-2020 15:11:58.739 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:11:58.740 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4174, duration=4231]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4165, duration=4231]
06-07-2020 15:11:59.742 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:11:59.743 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5177, duration=5234]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5168, duration=5234]
06-07-2020 15:12:00.745 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:00.745 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6179, duration=6236]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6170, duration=6236]
06-07-2020 15:12:01.747 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:01.749 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7183, duration=7240]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7174, duration=7240]
06-07-2020 15:12:02.751 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:02.752 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8186, duration=8243]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8177, duration=8243]
06-07-2020 15:12:03.594 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:12:03.596 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:12:03.597 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594028513669-0-6 on ExchangeId: ID-arun-1594028513669-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:12:03.754 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:03.755 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9189, duration=9246]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9180, duration=9246]
06-07-2020 15:12:04.757 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:04.758 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10192, duration=10249]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10183, duration=10249]
06-07-2020 15:12:05.760 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:12:05.762 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11196, duration=11253]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11187, duration=11253]
06-07-2020 15:12:06.732 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:12:06.731 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:12:06.739 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12168, duration=12227]
	InflightExchange: [exchangeId=ID-arun-1594028513669-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12164, duration=12230]
06-07-2020 15:12:06.746 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:12:06.746 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:12:06.778 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:12:06.785 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.771 seconds
06-07-2020 15:12:06.786 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.063 seconds
06-07-2020 15:12:06.788 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:12:06.789 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:12:06.790 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:12:06.790 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.278 seconds (13278 millis)
06-07-2020 15:12:06.790 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:12:06.790 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:25:24.197 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:25:24.205 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:25:24.206 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:25:24.441 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:25:24.585 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:25:24.604 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@73173f63, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@55562aa9, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@655ef322, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e276594, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3401a114, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5066d65f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4233e892, org.springframework.test.context.event.EventPublishingTestExecutionListener@77d2e85, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1a9c38eb]
06-07-2020 15:25:24.632 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:25:25.334 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 17394 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:25:25.335 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:25:27.116 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b5daf144] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:25:27.674 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:25:29.165 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:25:29.166 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:25:29.180 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 4.473 seconds (JVM running for 6.149)
06-07-2020 15:25:29.185 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:25:29.225 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:25:29.227 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:25:29.230 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:25:29.231 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:25:29.232 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:25:29.863 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:25:29.973 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:25:29.984 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:25:29.984 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.754 seconds
06-07-2020 15:25:30.982 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:25:31.270 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=500.00}]
06-07-2020 15:25:31.285 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:25:31.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:25:31.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:25:31.288 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594029330351-0-6 on ExchangeId: ID-arun-1594029330351-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:25:33.433 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:25:33.435 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:25:33.441 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:33.444 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2171, duration=2468]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2158, duration=2468]
06-07-2020 15:25:34.312 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:25:34.314 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:25:34.315 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594029330351-0-6 on ExchangeId: ID-arun-1594029330351-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:25:34.445 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:34.447 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3175, duration=3471]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3161, duration=3471]
06-07-2020 15:25:35.449 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:35.450 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4178, duration=4474]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4164, duration=4474]
06-07-2020 15:25:36.457 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:36.457 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5185, duration=5481]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5171, duration=5481]
06-07-2020 15:25:37.459 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:37.460 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6188, duration=6484]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6174, duration=6484]
06-07-2020 15:25:38.469 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:38.469 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7197, duration=7493]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7183, duration=7493]
06-07-2020 15:25:39.474 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:39.475 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8203, duration=8499]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8189, duration=8499]
06-07-2020 15:25:40.317 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:25:40.318 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:25:40.319 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594029330351-0-6 on ExchangeId: ID-arun-1594029330351-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:25:40.476 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:40.477 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9205, duration=9501]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9191, duration=9501]
06-07-2020 15:25:41.479 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:41.481 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10209, duration=10505]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10195, duration=10505]
06-07-2020 15:25:42.492 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:25:42.493 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11221, duration=11517]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11207, duration=11517]
06-07-2020 15:25:43.439 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:25:43.440 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:25:43.442 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12169, duration=12465]
	InflightExchange: [exchangeId=ID-arun-1594029330351-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12155, duration=12466]
06-07-2020 15:25:43.460 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:25:43.461 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:25:43.494 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:25:43.500 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 14.270 seconds
06-07-2020 15:25:43.500 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.067 seconds
06-07-2020 15:25:43.503 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:25:43.504 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:25:43.505 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:25:43.505 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.519 seconds (13519 millis)
06-07-2020 15:25:43.505 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:25:43.505 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:27:12.380 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:27:12.387 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:27:12.387 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:27:12.573 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:27:12.715 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:27:12.733 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 15:27:12.757 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:27:13.289 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 17716 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:27:13.290 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:27:14.321 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:27:14.850 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:27:15.757 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:27:15.757 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:27:15.766 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.922 seconds (JVM running for 4.203)
06-07-2020 15:27:15.771 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:27:15.801 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:27:15.802 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:27:15.803 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:27:15.804 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:27:15.806 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:27:16.154 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:27:16.244 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:27:16.256 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:27:16.256 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.452 seconds
06-07-2020 15:27:17.258 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:27:17.314 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=500.00}]
06-07-2020 15:27:17.326 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:27:17.327 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:27:17.328 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:27:17.329 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594029436410-0-6 on ExchangeId: ID-arun-1594029436410-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:27:19.432 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:27:19.434 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:27:19.437 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:19.442 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2127, duration=2191]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2115, duration=2191]
06-07-2020 15:27:20.338 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:27:20.340 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:27:20.342 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594029436410-0-6 on ExchangeId: ID-arun-1594029436410-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:27:20.444 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:20.445 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3130, duration=3194]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3118, duration=3194]
06-07-2020 15:27:21.446 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:21.447 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4132, duration=4196]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4120, duration=4196]
06-07-2020 15:27:22.448 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:22.449 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5134, duration=5198]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5122, duration=5198]
06-07-2020 15:27:23.451 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:23.452 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6137, duration=6201]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6125, duration=6201]
06-07-2020 15:27:24.453 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:24.454 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7139, duration=7203]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7127, duration=7203]
06-07-2020 15:27:25.456 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:25.457 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8142, duration=8206]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8130, duration=8206]
06-07-2020 15:27:26.344 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:27:26.345 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:27:26.346 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594029436410-0-6 on ExchangeId: ID-arun-1594029436410-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:27:26.458 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:26.459 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9144, duration=9208]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9132, duration=9208]
06-07-2020 15:27:27.461 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:27.462 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10147, duration=10211]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10135, duration=10211]
06-07-2020 15:27:28.464 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:27:28.465 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11150, duration=11214]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11138, duration=11214]
06-07-2020 15:27:29.436 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:27:29.436 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:27:29.437 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12122, duration=12186]
	InflightExchange: [exchangeId=ID-arun-1594029436410-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12110, duration=12186]
06-07-2020 15:27:29.448 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:27:29.448 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:27:29.467 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:27:29.475 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.671 seconds
06-07-2020 15:27:29.475 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.043 seconds
06-07-2020 15:27:29.478 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:27:29.480 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:27:29.480 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:27:29.480 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.223 seconds (13223 millis)
06-07-2020 15:27:29.481 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:27:29.481 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:55:45.288 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 15:55:45.296 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 15:55:45.297 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 15:55:45.435 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:55:45.581 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 15:55:45.600 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 15:55:45.646 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 15:55:46.304 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 20301 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 15:55:46.305 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 15:55:47.704 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 15:55:48.318 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 15:55:49.494 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 15:55:49.495 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 15:55:49.513 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.793 seconds (JVM running for 5.086)
06-07-2020 15:55:49.521 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 15:55:49.580 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 15:55:49.584 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 15:55:49.587 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 15:55:49.588 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 15:55:49.589 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 15:55:50.278 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 15:55:50.381 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 15:55:50.393 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 15:55:50.394 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.806 seconds
06-07-2020 15:55:51.399 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 15:55:51.459 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=500.00}]
06-07-2020 15:55:51.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:55:51.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:55:51.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:55:51.474 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031150601-0-6 on ExchangeId: ID-arun-1594031150601-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:55:53.658 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 15:55:53.662 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 15:55:53.675 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:53.679 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2219, duration=2290]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2207, duration=2290]
06-07-2020 15:55:54.482 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:55:54.483 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:55:54.485 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031150601-0-6 on ExchangeId: ID-arun-1594031150601-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:55:54.681 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:54.682 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3222, duration=3293]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3210, duration=3293]
06-07-2020 15:55:55.684 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:55.686 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4226, duration=4297]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4214, duration=4297]
06-07-2020 15:55:56.687 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:56.689 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5229, duration=5300]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5217, duration=5300]
06-07-2020 15:55:57.691 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:57.692 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6232, duration=6303]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6220, duration=6303]
06-07-2020 15:55:58.694 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:58.695 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7235, duration=7306]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7223, duration=7306]
06-07-2020 15:55:59.696 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:55:59.697 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8237, duration=8308]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8225, duration=8308]
06-07-2020 15:56:00.485 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 15:56:00.486 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 15:56:00.488 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031150601-0-6 on ExchangeId: ID-arun-1594031150601-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 15:56:00.699 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:56:00.700 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9240, duration=9311]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9228, duration=9311]
06-07-2020 15:56:01.701 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:56:01.702 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10242, duration=10313]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10230, duration=10313]
06-07-2020 15:56:02.705 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 15:56:02.706 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11246, duration=11317]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11234, duration=11317]
06-07-2020 15:56:03.672 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 15:56:03.671 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 15:56:03.678 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12214, duration=12285]
	InflightExchange: [exchangeId=ID-arun-1594031150601-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12204, duration=12289]
06-07-2020 15:56:03.685 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 15:56:03.686 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 15:56:03.730 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 15:56:03.739 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 14.150 seconds
06-07-2020 15:56:03.741 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.083 seconds
06-07-2020 15:56:03.746 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 15:56:03.750 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:56:03.751 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 15:56:03.752 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.354 seconds (13354 millis)
06-07-2020 15:56:03.752 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 15:56:03.753 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:03:57.272 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:03:57.280 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:03:57.282 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:03:57.444 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:03:57.709 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:03:57.727 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:03:57.758 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:03:58.381 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 21505 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:03:58.382 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:04:01.064 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b6b6e691] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:04:01.706 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:04:02.925 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:04:02.926 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:04:02.941 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 5.107 seconds (JVM running for 6.522)
06-07-2020 16:04:02.947 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:04:02.991 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:04:02.993 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:04:02.994 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:04:02.995 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:04:02.996 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:04:03.464 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:04:03.590 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:04:03.602 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:04:03.602 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.607 seconds
06-07-2020 16:04:04.609 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:04:04.707 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=500.00}]
06-07-2020 16:04:04.720 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:04:04.721 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:04:04.721 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:04:04.722 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031643794-0-6 on ExchangeId: ID-arun-1594031643794-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:04:06.851 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:04:06.854 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:04:06.865 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:06.869 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2162, duration=2272]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2149, duration=2272]
06-07-2020 16:04:07.731 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:04:07.732 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:04:07.734 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031643794-0-6 on ExchangeId: ID-arun-1594031643794-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:04:07.871 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:07.873 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3165, duration=3275]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3153, duration=3276]
06-07-2020 16:04:08.875 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:08.876 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4169, duration=4279]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4156, duration=4279]
06-07-2020 16:04:09.877 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:09.878 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5171, duration=5281]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5158, duration=5281]
06-07-2020 16:04:10.880 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:10.881 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6174, duration=6284]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6161, duration=6284]
06-07-2020 16:04:11.882 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:11.884 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7177, duration=7287]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7164, duration=7287]
06-07-2020 16:04:12.886 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:12.887 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8180, duration=8290]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8167, duration=8290]
06-07-2020 16:04:13.736 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:04:13.738 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:04:13.739 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594031643794-0-6 on ExchangeId: ID-arun-1594031643794-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:04:13.889 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:13.890 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9183, duration=9293]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9170, duration=9293]
06-07-2020 16:04:14.892 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:14.893 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10186, duration=10296]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10173, duration=10296]
06-07-2020 16:04:15.895 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:04:15.896 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11189, duration=11299]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11176, duration=11299]
06-07-2020 16:04:16.864 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:04:16.863 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:04:16.866 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12159, duration=12269]
	InflightExchange: [exchangeId=ID-arun-1594031643794-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12146, duration=12269]
06-07-2020 16:04:16.885 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:04:16.886 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:04:16.920 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:04:16.928 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.932 seconds
06-07-2020 16:04:16.929 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.078 seconds
06-07-2020 16:04:16.934 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:04:16.938 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:04:16.939 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:04:16.939 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.334 seconds (13334 millis)
06-07-2020 16:04:16.940 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:04:16.940 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:14:22.037 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:14:22.045 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:14:22.046 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:14:22.177 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:14:22.306 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:14:22.319 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@35e5d0e5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@73173f63, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55562aa9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@655ef322, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7e276594, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3401a114, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5066d65f, org.springframework.test.context.event.EventPublishingTestExecutionListener@4233e892, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77d2e85, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3ecd267f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3c9bfddc]
06-07-2020 16:14:22.342 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:14:22.792 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 22463 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:14:22.793 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:14:23.753 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$7bd0c6fd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:14:24.274 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:14:25.286 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:14:25.287 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:14:25.302 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.901 seconds (JVM running for 4.191)
06-07-2020 16:14:25.308 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:14:25.353 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:14:25.354 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:14:25.355 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:14:25.356 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:14:25.357 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:14:26.119 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:14:26.192 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:14:26.210 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:14:26.211 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.855 seconds
06-07-2020 16:14:27.203 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:14:27.264 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:14:27.273 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:14:27.274 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:14:27.274 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:14:27.276 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032266397-0-6 on ExchangeId: ID-arun-1594032266397-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:14:29.422 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:14:29.423 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:14:29.428 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:29.429 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2164, duration=2232]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2156, duration=2232]
06-07-2020 16:14:30.279 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:14:30.279 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:14:30.280 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032266397-0-6 on ExchangeId: ID-arun-1594032266397-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:14:30.431 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:30.432 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3167, duration=3235]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3159, duration=3235]
06-07-2020 16:14:31.434 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:31.434 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4169, duration=4237]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4161, duration=4237]
06-07-2020 16:14:32.435 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:32.435 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5170, duration=5238]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5162, duration=5238]
06-07-2020 16:14:33.438 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:33.438 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6173, duration=6241]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6165, duration=6241]
06-07-2020 16:14:34.440 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:34.441 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7176, duration=7244]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7168, duration=7244]
06-07-2020 16:14:35.443 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:35.445 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8180, duration=8248]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8172, duration=8248]
06-07-2020 16:14:43.910 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:14:43.911 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=16646, duration=16714]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=16638, duration=16714]
06-07-2020 16:14:43.912 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:14:43.913 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:14:43.913 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:14:43.913 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=16648, duration=16716]
	InflightExchange: [exchangeId=ID-arun-1594032266397-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=16640, duration=16716]
06-07-2020 16:14:50.415 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:14:50.417 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 20 seconds
06-07-2020 16:14:50.414 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:14:57.340 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@637bb74f for file: GenericFile[fileTest.txt]
06-07-2020 16:14:57.340 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
06-07-2020 16:14:57.344 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 31.988 seconds
06-07-2020 16:14:57.345 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 27.922 seconds
06-07-2020 16:14:57.345 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594032266397-0-2]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.MulticastProcessor$MulticastState.lambda$run$1(MulticastProcessor.java:329)
	at org.apache.camel.util.concurrent.AsyncCompletionService$Task.run(AsyncCompletionService.java:150)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:14:57.346 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:14:57.347 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:14:57.347 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:14:57.347 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 31.134 seconds (31134 millis)
06-07-2020 16:14:57.347 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:14:57.347 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:16:21.973 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:16:21.979 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:16:21.980 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:16:22.134 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:16:22.238 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:16:22.252 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:16:22.303 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:16:22.757 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 22817 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:16:22.758 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:16:23.691 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$a25cde50] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:16:24.145 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:16:25.260 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:16:25.261 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:16:25.275 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.912 seconds (JVM running for 3.96)
06-07-2020 16:16:25.280 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:16:25.323 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:16:25.324 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:16:25.325 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:16:25.326 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:16:25.326 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:16:25.654 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:16:25.752 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:16:25.759 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:16:25.760 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.433 seconds
06-07-2020 16:16:26.770 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:16:26.804 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:16:26.813 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:16:26.813 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:16:26.813 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:16:26.814 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032385909-0-6 on ExchangeId: ID-arun-1594032385909-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:16:28.934 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:16:28.935 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:16:28.940 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:28.941 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2137, duration=2183]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2128, duration=2183]
06-07-2020 16:16:29.822 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:16:29.825 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:16:29.828 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032385909-0-6 on ExchangeId: ID-arun-1594032385909-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:16:29.943 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:29.944 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3140, duration=3186]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3131, duration=3186]
06-07-2020 16:16:30.946 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:30.947 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4143, duration=4189]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4134, duration=4189]
06-07-2020 16:16:31.949 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:31.950 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5146, duration=5192]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5137, duration=5192]
06-07-2020 16:16:32.954 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:32.954 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6150, duration=6196]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6141, duration=6196]
06-07-2020 16:16:33.958 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:33.960 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7156, duration=7202]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7147, duration=7202]
06-07-2020 16:16:34.964 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:34.964 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8160, duration=8206]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8151, duration=8206]
06-07-2020 16:16:35.829 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:16:35.829 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:16:35.830 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032385909-0-6 on ExchangeId: ID-arun-1594032385909-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:16:35.966 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:35.967 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9163, duration=9209]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9154, duration=9209]
06-07-2020 16:16:36.970 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:36.971 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10167, duration=10213]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10158, duration=10213]
06-07-2020 16:16:37.973 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:16:37.974 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11170, duration=11216]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11161, duration=11216]
06-07-2020 16:16:38.940 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:16:38.939 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:16:38.943 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12138, duration=12184]
	InflightExchange: [exchangeId=ID-arun-1594032385909-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12130, duration=12185]
06-07-2020 16:16:38.947 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:16:38.947 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:16:38.957 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:16:38.960 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.634 seconds
06-07-2020 16:16:38.960 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.026 seconds
06-07-2020 16:16:38.961 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:16:38.962 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:16:38.963 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:16:38.963 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.202 seconds (13202 millis)
06-07-2020 16:16:38.963 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:16:38.963 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:17:35.776 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:17:35.784 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:17:35.785 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:17:35.988 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:17:36.142 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:17:36.156 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@55562aa9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@655ef322, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e276594, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3401a114, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5066d65f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4233e892, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77d2e85, org.springframework.test.context.event.EventPublishingTestExecutionListener@3ecd267f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@58ffcbd7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@555cf22, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6bb2d00b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c9bfddc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1a9c38eb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@319bc845]
06-07-2020 16:17:36.186 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:17:36.663 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 23172 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:17:36.664 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:17:37.614 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c3db7d8a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:17:38.102 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:17:38.935 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:17:38.936 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:17:38.945 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.686 seconds (JVM running for 4.032)
06-07-2020 16:17:38.949 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:17:38.981 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:17:38.982 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:17:38.983 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:17:38.984 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:17:38.984 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:17:39.339 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:17:39.422 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:17:39.433 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:17:39.433 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.449 seconds
06-07-2020 16:17:40.430 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:17:40.471 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:17:40.480 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:17:40.480 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:17:40.481 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:17:40.481 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032459687-0-6 on ExchangeId: ID-arun-1594032459687-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:17:40.706 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:17:40.707 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:17:40.711 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:40.712 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=241, duration=287]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=232, duration=287]
06-07-2020 16:17:41.714 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:41.714 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=1243, duration=1289]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=1234, duration=1289]
06-07-2020 16:17:42.717 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:42.718 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2246, duration=2292]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2237, duration=2292]
06-07-2020 16:17:43.490 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:17:43.490 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:17:43.491 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032459687-0-6 on ExchangeId: ID-arun-1594032459687-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:17:43.719 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:43.720 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3249, duration=3295]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3240, duration=3295]
06-07-2020 16:17:44.722 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:44.723 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4251, duration=4297]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4243, duration=4298]
06-07-2020 16:17:45.724 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:45.725 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5254, duration=5300]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5245, duration=5300]
06-07-2020 16:17:46.727 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:46.728 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6257, duration=6303]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6248, duration=6303]
06-07-2020 16:17:47.731 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:47.732 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7261, duration=7307]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7252, duration=7307]
06-07-2020 16:17:48.734 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:48.735 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8264, duration=8310]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8255, duration=8310]
06-07-2020 16:17:49.492 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:17:49.493 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:17:49.494 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032459687-0-6 on ExchangeId: ID-arun-1594032459687-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:17:49.737 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:17:49.737 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9266, duration=9312]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9257, duration=9312]
06-07-2020 16:17:50.711 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:17:50.710 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:17:50.712 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10241, duration=10287]
	InflightExchange: [exchangeId=ID-arun-1594032459687-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10232, duration=10287]
06-07-2020 16:17:50.738 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:17:50.738 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:17:50.756 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:17:50.759 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 11.775 seconds
06-07-2020 16:17:50.760 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.054 seconds
06-07-2020 16:17:50.761 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:17:50.762 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:17:50.762 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:17:50.762 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 11.328 seconds (11328 millis)
06-07-2020 16:17:50.762 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:17:50.762 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:18:28.030 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:18:28.036 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:18:28.037 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:18:28.166 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:18:28.247 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:18:28.262 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:18:28.283 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:18:28.634 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 23448 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:18:28.635 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:18:30.010 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$fdf25cd7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:18:30.450 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:18:31.247 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:18:31.248 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:18:31.256 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.929 seconds (JVM running for 3.738)
06-07-2020 16:18:31.259 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:18:31.287 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:18:31.289 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:18:31.294 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:18:31.296 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:18:31.297 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:18:31.720 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:18:31.782 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:18:31.791 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:18:31.792 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.497 seconds
06-07-2020 16:18:32.798 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:18:32.831 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:18:32.839 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:18:32.839 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:18:32.840 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:18:32.840 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032511897-0-6 on ExchangeId: ID-arun-1594032511897-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:18:35.849 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:18:35.850 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:18:35.851 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032511897-0-6 on ExchangeId: ID-arun-1594032511897-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:18:41.852 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:18:41.853 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:18:41.853 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594032511897-0-6 on ExchangeId: ID-arun-1594032511897-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:18:41.913 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:18:41.914 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:18:41.917 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:41.918 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9086, duration=9133]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9079, duration=9133]
06-07-2020 16:18:42.919 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:42.919 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10087, duration=10134]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10080, duration=10134]
06-07-2020 16:18:43.920 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:43.921 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11089, duration=11136]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11082, duration=11136]
06-07-2020 16:18:44.922 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:44.922 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12090, duration=12137]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12083, duration=12137]
06-07-2020 16:18:45.924 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:45.925 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=13093, duration=13140]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=13086, duration=13140]
06-07-2020 16:18:46.926 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:46.926 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=14094, duration=14141]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=14087, duration=14141]
06-07-2020 16:18:47.928 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:47.929 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=15097, duration=15144]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=15090, duration=15144]
06-07-2020 16:18:48.931 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:48.932 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=16100, duration=16147]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=16093, duration=16147]
06-07-2020 16:18:49.934 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:49.935 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=17103, duration=17150]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=17096, duration=17150]
06-07-2020 16:18:50.937 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:18:50.938 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=18106, duration=18153]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=18099, duration=18153]
06-07-2020 16:18:51.918 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:18:51.917 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:18:51.921 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=19088, duration=19136]
	InflightExchange: [exchangeId=ID-arun-1594032511897-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=19082, duration=19136]
06-07-2020 16:18:51.941 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:18:51.941 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:18:51.958 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:18:51.961 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 20.666 seconds
06-07-2020 16:18:51.962 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.049 seconds
06-07-2020 16:18:51.963 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:18:51.964 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:18:51.964 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:18:51.965 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 20.171 seconds (20171 millis)
06-07-2020 16:18:51.965 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:18:51.965 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:26:40.085 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:26:40.090 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:26:40.090 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:26:40.173 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:26:40.249 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:26:40.259 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:26:40.279 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:26:40.703 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 24177 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:26:40.704 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:26:41.646 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:26:42.046 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:26:42.799 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:26:42.800 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:26:42.808 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.478 seconds (JVM running for 3.156)
06-07-2020 16:26:42.811 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:26:42.836 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:26:42.837 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:26:42.839 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:26:42.840 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:26:42.840 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:26:43.118 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:26:43.167 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:26:43.170 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:26:43.171 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.331 seconds
06-07-2020 16:26:44.174 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:26:44.220 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:26:44.232 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:26:44.233 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:26:44.233 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:26:44.234 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033003280-0-6 on ExchangeId: ID-arun-1594033003280-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:26:46.295 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:26:46.298 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:26:46.301 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:46.302 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2082, duration=2132]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2069, duration=2132]
06-07-2020 16:26:47.245 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:26:47.249 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:26:47.252 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033003280-0-6 on ExchangeId: ID-arun-1594033003280-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:26:47.303 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:47.303 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3083, duration=3133]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3070, duration=3133]
06-07-2020 16:26:48.304 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:48.305 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4085, duration=4135]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4072, duration=4135]
06-07-2020 16:26:49.306 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:49.307 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5087, duration=5137]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5074, duration=5137]
06-07-2020 16:26:50.309 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:50.310 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6090, duration=6140]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6077, duration=6140]
06-07-2020 16:26:51.312 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:51.312 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7092, duration=7142]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7079, duration=7142]
06-07-2020 16:26:52.313 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:52.314 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8094, duration=8144]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8081, duration=8144]
06-07-2020 16:26:53.253 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:26:53.254 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:26:53.255 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033003280-0-6 on ExchangeId: ID-arun-1594033003280-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:26:53.316 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:53.317 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9097, duration=9147]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9084, duration=9147]
06-07-2020 16:26:54.318 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:54.319 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10099, duration=10149]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10086, duration=10149]
06-07-2020 16:26:55.321 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:26:55.322 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11102, duration=11152]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11089, duration=11152]
06-07-2020 16:26:56.302 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:26:56.302 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:26:56.304 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12083, duration=12133]
	InflightExchange: [exchangeId=ID-arun-1594033003280-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12071, duration=12134]
06-07-2020 16:26:56.311 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:26:56.312 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:26:56.333 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:26:56.339 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 13.500 seconds
06-07-2020 16:26:56.340 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.045 seconds
06-07-2020 16:26:56.341 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:26:56.342 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:26:56.342 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:26:56.343 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 13.171 seconds (13171 millis)
06-07-2020 16:26:56.343 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:26:56.343 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:29:57.525 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:29:57.530 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:29:57.531 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:29:57.624 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:29:57.703 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:29:57.712 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:29:57.732 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:29:58.200 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 24613 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:29:58.201 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:29:59.620 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b6b6e691] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:30:00.035 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:30:00.837 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:30:00.838 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:30:00.846 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 3.029 seconds (JVM running for 3.838)
06-07-2020 16:30:00.850 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:30:00.874 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:30:00.875 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:30:00.877 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:30:00.878 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:30:00.879 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:30:01.241 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:30:01.291 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:30:01.300 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:30:01.301 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.423 seconds
06-07-2020 16:30:02.306 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:30:02.343 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:30:02.350 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:30:02.351 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:30:02.351 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:30:02.352 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033201421-0-6 on ExchangeId: ID-arun-1594033201421-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:30:04.440 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:30:04.441 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:30:04.444 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:04.445 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=2102, duration=2149]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=2095, duration=2149]
06-07-2020 16:30:05.359 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:30:05.359 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:30:05.360 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033201421-0-6 on ExchangeId: ID-arun-1594033201421-0-5). On delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:30:05.447 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:05.449 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=3105, duration=3153]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=3099, duration=3153]
06-07-2020 16:30:06.451 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:06.452 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=4109, duration=4156]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=4102, duration=4156]
06-07-2020 16:30:07.453 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:07.454 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=5111, duration=5158]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=5104, duration=5158]
06-07-2020 16:30:08.457 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:08.458 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=6115, duration=6162]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=6108, duration=6162]
06-07-2020 16:30:09.459 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:09.460 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=7117, duration=7164]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=7110, duration=7164]
06-07-2020 16:30:10.462 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:10.463 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=8120, duration=8167]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=8113, duration=8167]
06-07-2020 16:30:11.362 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:30:11.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:30:11.364 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033201421-0-6 on ExchangeId: ID-arun-1594033201421-0-5). On delivery attempt: 2 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:30:11.465 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:11.466 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=9123, duration=9170]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=9116, duration=9170]
06-07-2020 16:30:12.467 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:12.468 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=10125, duration=10172]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=10118, duration=10172]
06-07-2020 16:30:13.469 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:30:13.470 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=11127, duration=11174]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=11120, duration=11174]
06-07-2020 16:30:14.446 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:30:14.446 [main] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:30:14.446 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-2, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=12103, duration=12150]
	InflightExchange: [exchangeId=ID-arun-1594033201421-0-5, fromRouteId=route1, atRouteId=route1, nodeId=process1, elapsed=12096, duration=12150]
06-07-2020 16:30:15.460 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:30:15.461 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 11 seconds
06-07-2020 16:30:15.477 [main] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:30:15.487 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 14.609 seconds
06-07-2020 16:30:15.487 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 11.047 seconds
06-07-2020 16:30:15.488 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:30:15.489 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:30:15.489 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:30:15.490 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 14.187 seconds (14187 millis)
06-07-2020 16:30:15.490 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:30:15.490 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:32:49.970 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:32:49.974 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:32:49.975 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:32:50.086 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:32:50.181 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:32:50.203 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:32:50.231 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:32:50.665 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 25050 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:32:50.666 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:32:51.543 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ac1fa585] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:32:51.973 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:32:52.790 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:32:52.791 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:32:52.802 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.517 seconds (JVM running for 3.345)
06-07-2020 16:32:52.806 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:32:52.831 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:32:52.832 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:32:52.833 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:32:52.834 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:32:52.834 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:32:53.158 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:32:53.228 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:32:53.231 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:32:53.232 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.398 seconds
06-07-2020 16:32:54.242 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:32:54.275 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:32:54.281 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:32:54.281 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:32:54.282 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:32:54.285 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:32:54.287 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594033373343-0-5 on ExchangeId: ID-arun-1594033373343-0-4). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [        55]
[route1            ] [log5              ] [log                                                                           ] [         0]
[route1            ] [process1          ] [Processor@0x2071b82e                                                          ] [         0]
[onException1      ] [log1              ] [log                                                                           ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:32:54.288 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:32:54.289 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:32:54.289 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:32:54.289 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:32:54.289 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-arun-1594033373343-0-7 on ExchangeId: ID-arun-1594033373343-0-6). Exhausted after delivery attempt: 1 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV. Processed by failure processor: FatalFallbackErrorHandler[Channel[Log(route1)[DataException in Route: ${body}]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [from[timer://myTimer?period=10000]                                            ] [        58]
[route1            ] [log5              ] [log                                                                           ] [         1]
[route1            ] [process1          ] [Processor@0x2071b82e                                                          ] [         0]
[onException1      ] [log1              ] [log                                                                           ] [         0]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:32:54.290 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@1d270ac7 for file: GenericFile[fileTest.txt]
06-07-2020 16:32:54.292 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594033373343-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:32:56.360 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:32:56.361 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:32:56.365 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:32:56.365 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 16:32:56.373 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.540 seconds
06-07-2020 16:32:56.373 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.013 seconds
06-07-2020 16:32:56.374 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:32:56.375 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:32:56.375 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:32:56.376 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.143 seconds (3143 millis)
06-07-2020 16:32:56.376 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:32:56.376 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:34:13.607 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.route.SimpleCamelRouteTest], using SpringBootContextLoader
06-07-2020 16:34:13.612 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:34:13.613 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.route.SimpleCamelRouteTest]: SimpleCamelRouteTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:34:13.728 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:34:13.815 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:34:13.833 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@483f6d77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7e5afaa6, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63a12c68, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@28f3b248, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1426f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@32b260fa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@581ac8a8, org.springframework.test.context.event.EventPublishingTestExecutionListener@6d4e5011, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57d7f8ca, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@76c3e77a, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@78123e82, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@67c33749, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@fba92d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@662b4c69]
06-07-2020 16:34:13.856 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class io.arun.learning.camel.route.SimpleCamelRouteTest
06-07-2020 16:34:14.288 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarting - Starting SimpleCamelRouteTest on arun with PID 25359 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:34:14.289 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:34:15.621 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ad0f3c59] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:34:16.055 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:34:16.783 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:34:16.784 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:34:16.793 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.logStarted - Started SimpleCamelRouteTest in 2.888 seconds (JVM running for 3.688)
06-07-2020 16:34:16.797 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
06-07-2020 16:34:16.832 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:34:16.834 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
06-07-2020 16:34:16.836 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
06-07-2020 16:34:16.839 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:34:16.840 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:34:17.223 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:34:17.288 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:34:17.295 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:34:17.296 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.458 seconds
06-07-2020 16:34:18.302 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:34:18.335 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}]
06-07-2020 16:34:18.342 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:34:18.343 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:34:18.343 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:34:18.344 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033457407-0-6 on ExchangeId: ID-arun-1594033457407-0-5). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:34:18.348 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:34:18.349 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:34:18.350 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:34:18.350 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:34:18.350 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033457407-0-8 on ExchangeId: ID-arun-1594033457407-0-7). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for LG TV
06-07-2020 16:34:18.351 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='LG TV', price=500.00}
06-07-2020 16:34:18.351 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@3d529fad for file: GenericFile[fileTest.txt]
06-07-2020 16:34:18.355 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594033457407-0-2]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for LG TV]
io.arun.learning.camel.exception.DataException: SKU is null for LG TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:34:20.437 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:34:20.439 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:34:20.450 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:34:20.451 [main] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 16:34:20.464 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3.626 seconds
06-07-2020 16:34:20.464 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.027 seconds
06-07-2020 16:34:20.466 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:34:20.466 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:34:20.467 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Testing done: testMoveFile_ADD_Exception(io.arun.learning.camel.route.SimpleCamelRouteTest)
06-07-2020 16:34:20.467 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - Took: 3.169 seconds (3169 millis)
06-07-2020 16:34:20.467 [main] INFO  i.a.l.c.route.SimpleCamelRouteTest.afterTestMethod - ********************************************************************************
06-07-2020 16:34:20.467 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.afterTestMethod - @RunWith(CamelSpringBootRunner.class) after: class io.arun.learning.camel.route.SimpleCamelRouteTest.testMoveFile_ADD_Exception
06-07-2020 16:36:08.730 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
06-07-2020 16:36:08.738 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:36:08.740 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:36:08.810 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
06-07-2020 16:36:08.916 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:36:08.931 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@389b0789, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@13d9cbf5, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@478db956, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6ca18a14, org.springframework.test.context.support.DirtiesContextTestExecutionListener@c667f46, org.springframework.test.context.transaction.TransactionalTestExecutionListener@51bd8b5c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7b50df34, org.springframework.test.context.event.EventPublishingTestExecutionListener@1b410b60, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2462cb01, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@19b843ba, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@64ec96c6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@77659b30, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@456d6c1e, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1e13529a]
06-07-2020 16:36:09.217 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 25739 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:36:09.218 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:36:10.163 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$c54937e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:36:10.690 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:36:11.505 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:36:11.506 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:36:11.513 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:36:11.513 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:36:11.842 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:36:11.919 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:36:11.923 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:36:11.924 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.411 seconds
06-07-2020 16:36:11.930 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 2.966 seconds (JVM running for 3.868)
06-07-2020 16:36:12.185 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:36:12.186 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:36:12.190 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:36:12.190 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 16:36:12.195 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.683 seconds
06-07-2020 16:36:12.196 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.011 seconds
06-07-2020 16:36:12.197 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:36:49.064 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
06-07-2020 16:36:49.070 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 16:36:49.073 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 16:36:49.149 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
06-07-2020 16:36:49.221 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 16:36:49.230 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@456d6c1e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e13529a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1ec9bd38, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@452e19ca, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b0d80ed, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6f8e8894, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3cfdd820, org.springframework.test.context.event.EventPublishingTestExecutionListener@928763c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@e25951c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@15f47664, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@471a9022, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@dc9876b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f666ebb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@19976a65]
06-07-2020 16:36:49.469 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 26092 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:36:49.470 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:36:50.260 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$4c6e632f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:36:50.751 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:36:51.559 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:36:51.560 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:36:51.567 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:36:51.568 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:36:51.888 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:36:51.959 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:36:51.963 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:36:51.963 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.396 seconds
06-07-2020 16:36:51.968 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 2.704 seconds (JVM running for 3.465)
06-07-2020 16:36:52.149 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:36:52.150 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:36:52.160 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:36:52.161 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 16:36:52.169 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.602 seconds
06-07-2020 16:36:52.169 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.020 seconds
06-07-2020 16:36:52.171 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:37:51.390 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 26446 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:37:51.393 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: prod
06-07-2020 16:37:52.352 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$cd44ae0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:37:52.672 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 16:37:52.682 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 16:37:52.682 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 16:37:52.682 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 16:37:52.732 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 16:37:52.732 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1283 ms
06-07-2020 16:37:52.944 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:37:53.463 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 16:37:53.494 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 16:37:53.658 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:37:53.661 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:37:53.670 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:37:53.670 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:37:53.996 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:37:54.064 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:37:54.070 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:37:54.071 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.400 seconds
06-07-2020 16:37:54.075 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.048 seconds (JVM running for 3.503)
06-07-2020 16:37:55.079 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 16:38:12.699 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:12.715 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:12.715 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:12.715 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:38:12.716 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594033675071-0-5 on ExchangeId: ID-arun-1594033675071-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:38:12.720 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:12.722 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@4760607 for file: GenericFile[errFile.txt]
06-07-2020 16:38:12.730 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594033675071-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:38:12.731 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 16:38:40.284 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 16:38:40.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:40.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:38:40.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:38:40.286 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 16:38:40.291 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 16:38:40.508 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 16:38:40.521 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 16:38:40.523 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 16:38:40.523 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:38:40.523 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 16:38:40.532 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 16:39:03.081 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='UPDATE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:39:03.082 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='UPDATE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:39:03.083 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:39:03.083 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:39:03.083 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='100'
06-07-2020 16:42:43.790 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:42:43.792 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:42:43.795 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:43.797 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=220715, duration=243265]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=220714, duration=243265]
06-07-2020 16:42:44.798 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:44.799 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=221717, duration=244267]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=221716, duration=244267]
06-07-2020 16:42:45.803 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:45.804 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=222722, duration=245272]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=222721, duration=245272]
06-07-2020 16:42:46.805 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:46.806 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=223724, duration=246274]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=223723, duration=246274]
06-07-2020 16:42:47.809 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:47.810 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=224728, duration=247278]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=224727, duration=247278]
06-07-2020 16:42:48.812 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:48.813 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=225731, duration=248281]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=225730, duration=248281]
06-07-2020 16:42:49.817 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:49.819 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=226737, duration=249287]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=226736, duration=249287]
06-07-2020 16:42:50.824 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:50.826 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=227744, duration=250294]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=227743, duration=250294]
06-07-2020 16:42:51.828 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:51.829 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=228747, duration=251297]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=228746, duration=251297]
06-07-2020 16:42:52.830 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:42:52.831 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=229749, duration=252299]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=229748, duration=252299]
06-07-2020 16:42:53.796 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:42:53.796 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:42:53.797 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=230715, duration=253265]
	InflightExchange: [exchangeId=ID-arun-1594033675071-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=230714, duration=253265]
06-07-2020 16:42:53.800 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:42:53.800 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:42:53.808 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:42:53.811 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 5 minutes
06-07-2020 16:42:53.811 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.021 seconds
06-07-2020 16:42:53.851 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:42:53.852 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 16:42:53.896 [Camel (camel-1) thread #1 - timer://myTimer] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@18d757a7 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:42:53.896 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit - Error occurred during jdbc rollback. This exception will be ignored.
java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at com.sun.proxy.$Proxy77.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:88)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:42:53.897 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@4760607 for file: GenericFile[fileUpdate.txt]
06-07-2020 16:42:53.942 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594033675071-0-13]. Caused by: [org.postgresql.util.PSQLException - An I/O error occurred while sending to the backend.]
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:42:53.943 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 16:45:22.916 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication on arun with PID 27209 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/classes started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:45:22.918 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:45:24.266 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$82356d9f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:45:24.933 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 16:45:24.939 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 16:45:24.940 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 16:45:24.940 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 16:45:24.995 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 16:45:24.995 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 2049 ms
06-07-2020 16:45:25.171 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:45:25.578 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 16:45:25.588 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 16:45:25.689 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:45:25.690 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:45:25.696 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:45:25.697 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:45:25.898 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:45:25.957 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:45:25.962 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:45:25.963 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.266 seconds
06-07-2020 16:45:25.967 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.441 seconds (JVM running for 4.237)
06-07-2020 16:45:26.998 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:45:50.617 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:45:50.634 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:45:59.198 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:46:03.321 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 16:46:09.580 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594034126986-0-5 on ExchangeId: ID-arun-1594034126986-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 16:46:09.584 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:46:09.586 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@aeedbb6 for file: GenericFile[errFile.txt]
06-07-2020 16:46:09.595 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594034126986-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:46:09.595 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:46:42.703 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 16:46:42.704 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:46:52.169 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 16:46:55.407 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:47:04.460 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 16:47:15.931 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 16:47:16.085 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 16:47:16.104 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 16:47:22.631 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 16:47:22.631 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:47:25.626 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 16:47:25.640 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:48:52.463 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:48:52.463 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:49:00.893 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:49:12.866 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:49:23.269 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='101'
06-07-2020 16:54:22.135 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:54:22.136 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:54:22.141 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:22.143 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=329680, duration=416503]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=284586, duration=416503]
06-07-2020 16:54:23.144 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:23.144 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=330681, duration=417504]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=285587, duration=417504]
06-07-2020 16:54:24.145 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:24.145 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=331682, duration=418505]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=286588, duration=418505]
06-07-2020 16:54:25.146 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:25.146 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=332683, duration=419506]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=287589, duration=419506]
06-07-2020 16:54:26.147 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:26.148 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=333685, duration=420508]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=288591, duration=420508]
06-07-2020 16:54:27.149 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:27.149 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=334686, duration=421509]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=289592, duration=421509]
06-07-2020 16:54:28.150 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:28.150 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=335687, duration=422510]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=290593, duration=422510]
06-07-2020 16:54:29.151 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:29.151 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=336688, duration=423511]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=291594, duration=423511]
06-07-2020 16:54:30.152 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:30.153 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=337690, duration=424513]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=292596, duration=424513]
06-07-2020 16:54:31.154 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:54:31.154 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=338691, duration=425514]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=293597, duration=425514]
06-07-2020 16:54:32.141 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:54:32.142 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:54:32.143 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=339679, duration=426502]
	InflightExchange: [exchangeId=ID-arun-1594034126986-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=294585, duration=426503]
06-07-2020 16:54:32.148 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:54:32.148 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:54:32.160 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:54:32.164 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 9 minutes
06-07-2020 16:54:32.165 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.030 seconds
06-07-2020 16:54:32.182 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:54:32.183 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 16:54:32.190 [Camel (camel-1) thread #1 - timer://myTimer] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@139dee7 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:54:32.190 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit - Error occurred during jdbc rollback. This exception will be ignored.
java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at com.sun.proxy.$Proxy78.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:88)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:54:32.191 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@aeedbb6 for file: GenericFile[fileUpdate.txt]
06-07-2020 16:54:32.195 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594034126986-0-13]. Caused by: [org.postgresql.util.PSQLException - An I/O error occurred while sending to the backend.]
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:54:32.214 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 16:55:14.947 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication on arun with PID 28097 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/classes started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 16:55:14.950 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 16:55:15.739 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$57e08b01] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 16:55:15.914 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 16:55:15.919 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 16:55:15.920 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 16:55:15.920 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 16:55:15.964 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 16:55:15.965 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 976 ms
06-07-2020 16:55:16.118 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 16:55:16.534 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 16:55:16.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 16:55:17.026 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 16:55:17.027 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 16:55:17.033 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 16:55:17.034 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 16:55:17.241 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 16:55:17.297 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 16:55:17.300 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 16:55:17.301 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.268 seconds
06-07-2020 16:55:17.305 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 2.758 seconds (JVM running for 3.47)
06-07-2020 16:55:18.315 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 16:55:18.363 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:55:18.372 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:55:39.908 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 16:55:39.908 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 16:55:42.422 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
06-07-2020 16:55:42.429 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 16:55:42.628 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 16:59:33.651 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 16:59:33.653 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 16:59:33.657 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:33.658 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=255295, duration=255348]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=231235, duration=255348]
06-07-2020 16:59:34.659 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:34.659 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=256296, duration=256349]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=232236, duration=256349]
06-07-2020 16:59:35.663 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:35.664 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=257301, duration=257354]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=233241, duration=257354]
06-07-2020 16:59:36.666 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:36.666 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=258303, duration=258356]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=234243, duration=258356]
06-07-2020 16:59:37.668 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:37.669 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=259306, duration=259359]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=235246, duration=259359]
06-07-2020 16:59:38.672 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:38.673 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=260310, duration=260363]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=236250, duration=260363]
06-07-2020 16:59:39.676 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:39.676 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=261313, duration=261366]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=237253, duration=261366]
06-07-2020 16:59:40.679 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:40.680 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=262317, duration=262370]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=238257, duration=262370]
06-07-2020 16:59:41.681 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:41.681 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=263318, duration=263371]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=239258, duration=263371]
06-07-2020 16:59:42.683 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 16:59:42.683 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=264320, duration=264373]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=240260, duration=264373]
06-07-2020 16:59:43.658 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 16:59:43.658 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 16:59:43.659 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-1, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=265296, duration=265349]
	InflightExchange: [exchangeId=ID-arun-1594034718310-0-4, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=241236, duration=265349]
06-07-2020 16:59:43.663 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 16:59:43.663 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 16:59:43.667 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 16:59:43.668 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 4 minutes
06-07-2020 16:59:43.669 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.018 seconds
06-07-2020 16:59:43.682 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 16:59:43.683 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 16:59:43.707 [Camel (camel-1) thread #1 - timer://myTimer] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@360f364e marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:59:43.707 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit - Error occurred during jdbc rollback. This exception will be ignored.
java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at com.sun.proxy.$Proxy78.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:88)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:59:43.709 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@2b5cc221 for file: GenericFile[fileDelete.txt]
06-07-2020 16:59:43.716 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.log - Error during rollback. Exchange[ID-arun-1594034718310-0-1]. Caused by: [org.apache.camel.component.file.GenericFileOperationFailedException - Cannot rename file: GenericFile[fileDelete.txt] to: GenericFile[error/fileDelete.txt]]
org.apache.camel.component.file.GenericFileOperationFailedException: Cannot rename file: GenericFile[fileDelete.txt] to: GenericFile[error/fileDelete.txt]
	at org.apache.camel.component.file.strategy.GenericFileProcessStrategySupport.renameFile(GenericFileProcessStrategySupport.java:132)
	at org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy.rollback(GenericFileDeleteProcessStrategy.java:116)
	at org.apache.camel.component.file.GenericFileOnCompletion.processStrategyRollback(GenericFileOnCompletion.java:154)
	at org.apache.camel.component.file.GenericFileOnCompletion.onCompletion(GenericFileOnCompletion.java:89)
	at org.apache.camel.component.file.GenericFileOnCompletion.onFailure(GenericFileOnCompletion.java:63)
	at org.apache.camel.support.UnitOfWorkHelper.doneSynchronizations(UnitOfWorkHelper.java:87)
	at org.apache.camel.impl.engine.DefaultUnitOfWork.done(DefaultUnitOfWork.java:234)
	at org.apache.camel.support.UnitOfWorkHelper.doneUow(UnitOfWorkHelper.java:51)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:594)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:543)
	at org.apache.camel.processor.CamelInternalProcessor.lambda$process$0(CamelInternalProcessor.java:172)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$2.run(DefaultReactiveExecutor.java:103)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 16:59:43.716 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594034718310-0-1]. Caused by: [org.postgresql.util.PSQLException - An I/O error occurred while sending to the backend.]
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 16:59:43.721 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 17:00:47.552 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication on arun with PID 28759 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/classes started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:00:47.554 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 17:00:48.280 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$43a6199e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:00:48.430 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:00:48.435 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:00:48.436 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:00:48.436 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:00:48.472 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:00:48.472 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 889 ms
06-07-2020 17:00:48.642 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:00:49.016 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:00:49.028 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 17:00:49.127 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:00:49.128 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:00:49.134 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:00:49.134 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:00:49.318 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:00:49.369 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:00:49.373 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:00:49.373 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.239 seconds
06-07-2020 17:00:49.376 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 2.153 seconds (JVM running for 3.039)
06-07-2020 17:00:50.404 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:01:06.526 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:06.535 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:12.965 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:12.968 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 17:01:14.541 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594035050392-0-5 on ExchangeId: ID-arun-1594035050392-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 17:01:14.544 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:14.546 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6a747329 for file: GenericFile[errFile.txt]
06-07-2020 17:01:14.550 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035050392-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:01:14.550 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:01:46.137 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 17:01:46.138 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:55.404 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:01:55.406 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:01:57.143 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 17:01:57.147 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 17:01:57.348 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 17:01:57.373 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:01:58.226 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:01:58.226 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:02:00.218 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 17:02:00.230 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:02:24.788 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:02:24.789 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:02:32.881 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:02:32.881 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:02:35.912 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
06-07-2020 17:05:27.503 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 17:05:27.505 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 17:05:27.509 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:27.511 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=182723, duration=207281]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=171599, duration=207281]
06-07-2020 17:05:28.512 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:28.513 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=183725, duration=208283]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=172601, duration=208283]
06-07-2020 17:05:29.515 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:29.516 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=184728, duration=209286]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=173604, duration=209286]
06-07-2020 17:05:30.520 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:30.520 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=185732, duration=210290]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=174608, duration=210290]
06-07-2020 17:05:31.523 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:31.524 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=186736, duration=211294]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=175612, duration=211294]
06-07-2020 17:05:32.526 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:32.526 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=187738, duration=212296]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=176614, duration=212296]
06-07-2020 17:05:33.528 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:33.529 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=188740, duration=213299]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=177617, duration=213299]
06-07-2020 17:05:34.529 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:34.530 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=189742, duration=214300]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=178618, duration=214300]
06-07-2020 17:05:35.531 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:35.532 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=190744, duration=215302]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=179620, duration=215302]
06-07-2020 17:05:36.534 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:05:36.535 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=191747, duration=216305]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=180623, duration=216305]
06-07-2020 17:05:37.508 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 17:05:37.509 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 17:05:37.509 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=192721, duration=217279]
	InflightExchange: [exchangeId=ID-arun-1594035050392-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=181597, duration=217279]
06-07-2020 17:05:37.510 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 17:05:37.510 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 17:05:37.514 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 17:05:37.518 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 4 minutes
06-07-2020 17:05:37.518 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.015 seconds
06-07-2020 17:05:37.527 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:05:37.527 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 17:05:37.559 [Camel (camel-1) thread #1 - timer://myTimer] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@272bd11b marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 17:05:37.560 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit - Error occurred during jdbc rollback. This exception will be ignored.
java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at com.sun.proxy.$Proxy78.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:88)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:05:37.561 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@6a747329 for file: GenericFile[fileDelete.txt]
06-07-2020 17:05:37.570 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.log - Error during rollback. Exchange[ID-arun-1594035050392-0-13]. Caused by: [org.apache.camel.component.file.GenericFileOperationFailedException - Cannot rename file: GenericFile[fileDelete.txt] to: GenericFile[error/fileDelete.txt]]
org.apache.camel.component.file.GenericFileOperationFailedException: Cannot rename file: GenericFile[fileDelete.txt] to: GenericFile[error/fileDelete.txt]
	at org.apache.camel.component.file.strategy.GenericFileProcessStrategySupport.renameFile(GenericFileProcessStrategySupport.java:132)
	at org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy.rollback(GenericFileDeleteProcessStrategy.java:116)
	at org.apache.camel.component.file.GenericFileOnCompletion.processStrategyRollback(GenericFileOnCompletion.java:154)
	at org.apache.camel.component.file.GenericFileOnCompletion.onCompletion(GenericFileOnCompletion.java:89)
	at org.apache.camel.component.file.GenericFileOnCompletion.onFailure(GenericFileOnCompletion.java:63)
	at org.apache.camel.support.UnitOfWorkHelper.doneSynchronizations(UnitOfWorkHelper.java:87)
	at org.apache.camel.impl.engine.DefaultUnitOfWork.done(DefaultUnitOfWork.java:234)
	at org.apache.camel.support.UnitOfWorkHelper.doneUow(UnitOfWorkHelper.java:51)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:594)
	at org.apache.camel.processor.CamelInternalProcessor$UnitOfWorkProcessorAdvice.after(CamelInternalProcessor.java:543)
	at org.apache.camel.processor.CamelInternalProcessor.lambda$process$0(CamelInternalProcessor.java:172)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$2.run(DefaultReactiveExecutor.java:103)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:05:37.575 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 17:05:37.570 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035050392-0-13]. Caused by: [org.postgresql.util.PSQLException - An I/O error occurred while sending to the backend.]
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 17:05:51.634 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication on arun with PID 29488 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/classes started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:05:51.636 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 17:05:52.805 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$9c03109e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:05:52.942 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:05:52.946 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:05:52.947 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:05:52.947 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:05:52.985 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:05:52.985 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1322 ms
06-07-2020 17:05:53.147 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:05:53.495 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:05:53.506 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 17:05:53.595 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:05:53.596 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:05:53.602 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:05:53.603 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:05:53.766 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:05:53.819 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:05:53.822 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:05:53.823 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.220 seconds
06-07-2020 17:05:53.826 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 2.439 seconds (JVM running for 2.924)
06-07-2020 17:05:54.832 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:06:16.408 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:16.414 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:16.414 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:16.414 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 17:06:16.415 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594035354829-0-5 on ExchangeId: ID-arun-1594035354829-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 17:06:16.418 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:16.420 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@2ef62b44 for file: GenericFile[errFile.txt]
06-07-2020 17:06:16.422 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035354829-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:06:16.423 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:06:45.481 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 17:06:45.481 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:45.482 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:06:45.482 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:06:45.482 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 17:06:45.484 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 17:06:45.719 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 17:06:45.729 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:06:45.730 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:06:45.730 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:06:45.730 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 17:06:45.736 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:10:01.888 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests], using SpringBootContextLoader
06-07-2020 17:10:01.893 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
06-07-2020 17:10:01.893 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [io.arun.learning.camel.LearncamelSpringbootApplicationTests]: LearncamelSpringbootApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
06-07-2020 17:10:01.968 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration io.arun.learning.camel.LearncamelSpringbootApplication for test class io.arun.learning.camel.LearncamelSpringbootApplicationTests
06-07-2020 17:10:02.044 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
06-07-2020 17:10:02.054 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@51bd8b5c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7b50df34, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1b410b60, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2462cb01, org.springframework.test.context.support.DirtiesContextTestExecutionListener@19b843ba, org.springframework.test.context.transaction.TransactionalTestExecutionListener@64ec96c6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77659b30, org.springframework.test.context.event.EventPublishingTestExecutionListener@456d6c1e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1e13529a, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1ec9bd38, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@452e19ca, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6b0d80ed, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6f8e8894, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3cfdd820]
06-07-2020 17:10:02.354 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarting - Starting LearncamelSpringbootApplicationTests on arun with PID 30498 (started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:10:02.355 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 17:10:03.288 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d718f52] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:10:03.753 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:10:04.626 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:10:04.627 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:10:04.634 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:10:04.634 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:10:04.975 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:10:05.052 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:10:05.058 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:10:05.059 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.425 seconds
06-07-2020 17:10:05.062 [main] INFO  i.a.l.c.LearncamelSpringbootApplicationTests.logStarted - Started LearncamelSpringbootApplicationTests in 2.983 seconds (JVM running for 3.843)
06-07-2020 17:10:05.275 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 17:10:05.276 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 17:10:05.280 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 17:10:05.280 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 0 seconds
06-07-2020 17:10:05.287 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 0.653 seconds
06-07-2020 17:10:05.287 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 0.012 seconds
06-07-2020 17:10:05.288 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:10:39.341 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 30802 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:10:39.343 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: prod
06-07-2020 17:10:40.452 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$f71cdfa5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:10:40.704 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:10:40.715 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:10:40.716 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:10:40.716 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:10:40.783 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:10:40.783 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1388 ms
06-07-2020 17:10:41.018 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:10:41.561 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:10:41.566 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext.refresh - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
06-07-2020 17:10:41.567 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:10:41.570 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Pausing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:10:41.570 [main] INFO  o.a.catalina.core.StandardService.log - Stopping service [Tomcat]
06-07-2020 17:10:41.573 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Stopping ProtocolHandler ["http-nio-8080"]
06-07-2020 17:10:41.573 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Destroying ProtocolHandler ["http-nio-8080"]
06-07-2020 17:10:41.582 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener.logMessage - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
06-07-2020 17:10:41.584 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter.report - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

06-07-2020 17:10:50.873 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 17:10:50.881 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 17:10:50.884 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:50.885 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=245149, duration=245150]
06-07-2020 17:10:51.886 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:51.888 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=246152, duration=246153]
06-07-2020 17:10:52.892 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:52.893 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=247157, duration=247158]
06-07-2020 17:10:53.895 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:53.896 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=248160, duration=248161]
06-07-2020 17:10:54.898 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:54.899 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=249163, duration=249164]
06-07-2020 17:10:55.901 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:55.902 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=250166, duration=250167]
06-07-2020 17:10:56.903 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:56.904 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=251168, duration=251169]
06-07-2020 17:10:57.906 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:57.907 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=252171, duration=252172]
06-07-2020 17:10:58.910 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:58.911 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=253175, duration=253176]
06-07-2020 17:10:59.914 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:10:59.916 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=254180, duration=254181]
06-07-2020 17:11:00.883 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 17:11:00.884 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 17:11:00.884 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035354829-0-13, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=255148, duration=255149]
06-07-2020 17:11:00.886 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 17:11:00.887 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 17:11:00.897 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
06-07-2020 17:11:00.907 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 5 minutes
06-07-2020 17:11:00.907 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.034 seconds
06-07-2020 17:11:00.913 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035354829-0-13]. Caused by: [java.util.concurrent.RejectedExecutionException - Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594035354829-0-13]]
java.util.concurrent.RejectedExecutionException: Run not allowed as ShutdownStrategy is forcing shutting down, will reject executing exchange: Exchange[ID-arun-1594035354829-0-13]
	at org.apache.camel.processor.CamelInternalProcessor.continueProcessing(CamelInternalProcessor.java:272)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:144)
	at org.apache.camel.processor.Pipeline.doProcess(Pipeline.java:103)
	at org.apache.camel.processor.Pipeline.lambda$null$2(Pipeline.java:104)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$3.run(DefaultReactiveExecutor.java:116)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:11:00.920 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:11:00.921 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 17:11:00.946 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 17:11:11.970 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 31087 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:11:11.973 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: prod
06-07-2020 17:11:12.979 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$6a83c346] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:11:13.228 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:11:13.242 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:11:13.243 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:11:13.243 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:11:13.314 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:11:13.315 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1303 ms
06-07-2020 17:11:13.549 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:11:14.030 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:11:14.054 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 17:11:14.191 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:11:14.193 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:11:14.199 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:11:14.200 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:11:14.515 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:11:14.577 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:11:14.581 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:11:14.582 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.383 seconds
06-07-2020 17:11:14.585 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.052 seconds (JVM running for 3.528)
06-07-2020 17:11:15.607 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:11:29.284 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:29.303 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:29.308 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:29.309 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 17:11:29.309 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594035675597-0-5 on ExchangeId: ID-arun-1594035675597-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 17:11:29.320 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:29.331 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@4e97436 for file: GenericFile[errFile.txt]
06-07-2020 17:11:29.348 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035675597-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:11:29.348 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:11:59.951 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 17:11:59.952 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:59.952 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:11:59.952 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:11:59.952 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 17:11:59.957 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 17:12:00.199 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 17:12:00.210 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:12:00.211 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:12:00.211 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:12:00.211 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 17:12:00.220 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:12:31.807 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:12:31.809 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:12:31.810 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:12:31.810 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:12:31.810 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
06-07-2020 17:14:11.875 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 17:14:11.877 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 17:14:11.882 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:11.884 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=100076, duration=131665]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=100074, duration=131665]
06-07-2020 17:14:12.885 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:12.885 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=101077, duration=132666]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=101075, duration=132666]
06-07-2020 17:14:13.888 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:13.889 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=102081, duration=133670]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=102079, duration=133670]
06-07-2020 17:14:14.893 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:14.894 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=103086, duration=134675]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=103084, duration=134675]
06-07-2020 17:14:15.898 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:15.899 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=104091, duration=135680]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=104089, duration=135680]
06-07-2020 17:14:16.902 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:16.903 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=105095, duration=136684]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=105093, duration=136684]
06-07-2020 17:14:17.905 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:17.906 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=106098, duration=137687]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=106096, duration=137687]
06-07-2020 17:14:18.909 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:18.910 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=107102, duration=138691]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=107100, duration=138691]
06-07-2020 17:14:19.913 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:19.915 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=108107, duration=139696]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=108105, duration=139696]
06-07-2020 17:14:20.916 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:14:20.918 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=109110, duration=140699]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=109108, duration=140699]
06-07-2020 17:14:21.886 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 17:14:21.886 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 17:14:21.887 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 2 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-13, fromRouteId=route1, atRouteId=route1, nodeId=split1, elapsed=110079, duration=141668]
	InflightExchange: [exchangeId=ID-arun-1594035675597-0-16, fromRouteId=route1, atRouteId=route1, nodeId=to2, elapsed=110077, duration=141668]
06-07-2020 17:14:21.889 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 17:14:21.889 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 17:14:21.896 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 2 inflight exchanges.
06-07-2020 17:14:21.905 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 3 minutes
06-07-2020 17:14:21.905 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.030 seconds
06-07-2020 17:14:21.921 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:14:21.922 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 17:14:21.968 [Camel (camel-1) thread #1 - timer://myTimer] WARN  c.zaxxer.hikari.pool.ProxyConnection.checkException - HikariPool-1 - Connection org.postgresql.jdbc.PgConnection@486af075 marked as broken because of SQLSTATE(08006), ErrorCode(0)
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 17:14:21.973 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit - Error occurred during jdbc rollback. This exception will be ignored.
java.sql.SQLException: Connection is closed
	at com.zaxxer.hikari.pool.ProxyConnection$ClosedConnection.lambda$getClosedConnection$0(ProxyConnection.java:515)
	at com.sun.proxy.$Proxy77.rollback(Unknown Source)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:396)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:88)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:14:21.974 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@4e97436 for file: GenericFile[fileDelete.txt]
06-07-2020 17:14:22.008 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594035675597-0-13]. Caused by: [org.postgresql.util.PSQLException - An I/O error occurred while sending to the backend.]
org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:339)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:310)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:296)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:273)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:268)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.apache.camel.component.jdbc.JdbcProducer.doCreateAndExecuteSqlStatement(JdbcProducer.java:216)
	at org.apache.camel.component.jdbc.JdbcProducer.createAndExecuteSqlStatement(JdbcProducer.java:121)
	at org.apache.camel.component.jdbc.JdbcProducer.processingSqlBySettingAutoCommit(JdbcProducer.java:82)
	at org.apache.camel.component.jdbc.JdbcProducer.process(JdbcProducer.java:63)
	at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:67)
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
Caused by: java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)
	at sun.security.ssl.InputRecord.read(InputRecord.java:503)
	at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:990)
	at sun.security.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:948)
	at sun.security.ssl.AppInputStream.read(AppInputStream.java:105)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:161)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:128)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:113)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.receiveChar(PGStream.java:370)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2043)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:312)
	... 24 common frames omitted
06-07-2020 17:14:22.026 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 17:31:20.110 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 32632 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:31:20.113 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: prod
06-07-2020 17:31:21.111 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$ede808e1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:31:21.375 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:31:21.385 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:31:21.386 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:31:21.386 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:31:21.448 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:31:21.448 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1294 ms
06-07-2020 17:31:21.674 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:31:22.157 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:31:22.187 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 17:31:22.345 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:31:22.346 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:31:22.356 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:31:22.356 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:31:22.670 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:31:22.745 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:31:22.749 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:31:22.750 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.394 seconds
06-07-2020 17:31:22.753 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.064 seconds (JVM running for 3.482)
06-07-2020 17:31:23.769 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:31:53.327 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:31:53.336 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:31:53.338 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:31:53.338 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 17:31:53.338 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594036883762-0-5 on ExchangeId: ID-arun-1594036883762-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 17:31:53.345 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:31:53.347 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@1965e3a5 for file: GenericFile[errFile.txt]
06-07-2020 17:31:53.351 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594036883762-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:31:53.355 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:32:36.107 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 17:32:36.110 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:32:36.111 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:32:36.112 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:32:36.113 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 17:32:36.122 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 17:32:36.356 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 17:32:36.385 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:32:36.385 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 17:32:36.385 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:32:36.385 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 17:32:36.407 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:33:34.080 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:33:34.081 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:33:34.081 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:33:34.081 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:33:34.081 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='101'
06-07-2020 17:57:59.465 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:57:59.470 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:57:59.471 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:57:59.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 17:57:59.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 17:57:59.472 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
06-07-2020 17:58:09.467 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is PROD Environment
06-07-2020 17:58:15.189 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutting down
06-07-2020 17:58:15.195 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 1 routes (timeout 10 seconds)
06-07-2020 17:58:15.200 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 10 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:15.205 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=5737, duration=5738]
06-07-2020 17:58:16.206 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 9 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:16.207 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=6739, duration=6740]
06-07-2020 17:58:17.209 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 8 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:17.210 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=7742, duration=7743]
06-07-2020 17:58:18.211 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 7 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:18.212 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=8744, duration=8745]
06-07-2020 17:58:19.213 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 6 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:19.214 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=9746, duration=9747]
06-07-2020 17:58:20.215 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 5 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:20.215 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=10747, duration=10748]
06-07-2020 17:58:21.216 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 4 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:21.217 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=11749, duration=11750]
06-07-2020 17:58:22.219 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 3 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:22.220 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=12752, duration=12753]
06-07-2020 17:58:23.222 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 2 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:23.222 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=13754, duration=13755]
06-07-2020 17:58:24.224 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Waiting as there are still 1 inflight and pending exchanges to complete, timeout in 1 seconds. Inflights per route: [route1 = 1]
06-07-2020 17:58:24.225 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=14757, duration=14758]
06-07-2020 17:58:25.199 [Camel (camel-1) thread #2 - ShutdownTask] WARN  o.a.c.i.e.DefaultShutdownStrategy.run - Interrupted while waiting during graceful shutdown, will force shutdown now.
06-07-2020 17:58:25.199 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Timeout occurred during graceful shutdown. Forcing the routes to be shutdown now. Notice: some resources may still be running as graceful shutdown did not complete successfully.
06-07-2020 17:58:25.199 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.logInflightExchanges - There are 1 inflight exchanges:
	InflightExchange: [exchangeId=ID-arun-1594036883762-0-23, fromRouteId=route1, atRouteId=route1, nodeId=pollEnrich1, elapsed=15731, duration=15732]
06-07-2020 17:58:25.202 [Camel (camel-1) thread #2 - ShutdownTask] INFO  o.a.c.i.e.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: timer://myTimer?period=10000
06-07-2020 17:58:25.203 [SpringContextShutdownHook] INFO  o.a.c.i.e.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 1 routes completed in 10 seconds
06-07-2020 17:58:25.213 [SpringContextShutdownHook] WARN  o.a.c.i.e.DefaultInflightRepository.doStop - Shutting down while there are still 1 inflight exchanges.
06-07-2020 17:58:25.216 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) uptime 27 minutes
06-07-2020 17:58:25.216 [SpringContextShutdownHook] INFO  o.a.c.s.boot.SpringBootCamelContext.doStop - Apache Camel 3.0.0 (CamelContext: camel-1) is shutdown in 10.027 seconds
06-07-2020 17:58:25.231 [SpringContextShutdownHook] INFO  o.s.s.c.ThreadPoolTaskExecutor.shutdown - Shutting down ExecutorService 'applicationTaskExecutor'
06-07-2020 17:58:25.231 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown initiated...
06-07-2020 17:58:25.268 [SpringContextShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource.close - HikariPool-1 - Shutdown completed.
06-07-2020 17:59:00.149 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarting - Starting LearncamelSpringbootApplication v0.0.1-SNAPSHOT on arun with PID 2601 (/opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot/target/learncamel-springboot-0.0.1-SNAPSHOT.jar started by arun in /opt/arun/learning/apache-camel/udemy/w1/learncamel-springboot)
06-07-2020 17:59:00.152 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStartupProfileInfo - The following profiles are active: dev
06-07-2020 17:59:01.125 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$a97f8ecd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
06-07-2020 17:59:01.396 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.initialize - Tomcat initialized with port(s): 8080 (http)
06-07-2020 17:59:01.414 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Initializing ProtocolHandler ["http-nio-8080"]
06-07-2020 17:59:01.415 [main] INFO  o.a.catalina.core.StandardService.log - Starting service [Tomcat]
06-07-2020 17:59:01.415 [main] INFO  o.a.catalina.core.StandardEngine.log - Starting Servlet engine: [Apache Tomcat/9.0.36]
06-07-2020 17:59:01.467 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/].log - Initializing Spring embedded WebApplicationContext
06-07-2020 17:59:01.468 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.prepareWebApplicationContext - Root WebApplicationContext: initialization completed in 1259 ms
06-07-2020 17:59:01.739 [main] INFO  o.s.s.c.ThreadPoolTaskExecutor.initialize - Initializing ExecutorService 'applicationTaskExecutor'
06-07-2020 17:59:02.258 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log - Starting ProtocolHandler ["http-nio-8080"]
06-07-2020 17:59:02.304 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer.start - Tomcat started on port(s): 8080 (http) with context path ''
06-07-2020 17:59:02.462 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRoutesFromDirectory - Loading additional Camel XML routes from: classpath:camel/*.xml
06-07-2020 17:59:02.463 [main] INFO  o.a.c.s.b.SpringBootRoutesCollector.collectXmlRestsFromDirectory - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
06-07-2020 17:59:02.470 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) is starting
06-07-2020 17:59:02.470 [main] INFO  o.a.c.m.JmxManagementStrategy.doStart - JMX is enabled
06-07-2020 17:59:02.744 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
06-07-2020 17:59:02.808 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: timer://myTimer?period=10000
06-07-2020 17:59:02.812 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Total 1 routes, of which 1 are started
06-07-2020 17:59:02.813 [main] INFO  o.a.c.s.boot.SpringBootCamelContext.start - Apache Camel 3.0.0 (CamelContext: camel-1) started in 0.344 seconds
06-07-2020 17:59:02.816 [main] INFO  i.a.l.c.LearncamelSpringbootApplication.logStarted - Started LearncamelSpringbootApplication in 3.052 seconds (JVM running for 3.5)
06-07-2020 17:59:03.826 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 17:59:18.936 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:59:18.950 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:59:18.958 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:59:18.958 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: true
06-07-2020 17:59:18.958 [Camel (camel-1) thread #1 - timer://myTimer] ERROR o.a.c.p.e.DeadLetterChannel.log - Failed delivery for (MessageId: ID-arun-1594038543819-0-5 on ExchangeId: ID-arun-1594038543819-0-4). On delivery attempt: 0 caught: io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
06-07-2020 17:59:18.965 [Camel (camel-1) thread #1 - timer://myTimer] ERROR route1.log - DataException in Route: Item{transactionType='ADD', sku='', itemDescription='Samsung TV', price=500.00}
06-07-2020 17:59:18.967 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.c.file.GenericFileOnCompletion.processStrategyRollback - Rollback file strategy: org.apache.camel.component.file.strategy.GenericFileDeleteProcessStrategy@809702f for file: GenericFile[errFile.txt]
06-07-2020 17:59:18.973 [Camel (camel-1) thread #1 - timer://myTimer] WARN  o.a.c.component.timer.TimerConsumer.log - Error processing exchange. Exchange[ID-arun-1594038543819-0-1]. Caused by: [io.arun.learning.camel.exception.DataException - SKU is null for Samsung TV]
io.arun.learning.camel.exception.DataException: SKU is null for Samsung TV
	at io.arun.learning.camel.processor.BuildSQLProcessor.process(BuildSQLProcessor.java:23)
	at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:64)
	at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)
	at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)
	at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)
	at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)
	at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)
	at java.util.TimerThread.mainLoop(Timer.java:555)
	at java.util.TimerThread.run(Timer.java:505)
06-07-2020 17:59:18.973 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 18:00:11.103 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 18:00:11.104 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 18:00:11.104 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 18:00:11.104 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:00:11.104 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 18:00:11.108 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Starting...
06-07-2020 18:00:11.300 [Camel (camel-1) thread #1 - timer://myTimer] INFO  com.zaxxer.hikari.HikariDataSource.getConnection - HikariPool-1 - Start completed.
06-07-2020 18:00:11.311 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 18:00:11.311 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 18:00:11.312 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:00:11.312 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 18:00:11.318 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 18:00:58.928 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> [Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}, Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}]
06-07-2020 18:00:58.930 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 18:00:58.937 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='100', itemDescription='Samsung TV', price=500.00}
06-07-2020 18:00:58.937 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:00:58.937 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('100','Samsung TV',500.00)
06-07-2020 18:00:58.945 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 18:00:58.946 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='ADD', sku='101', itemDescription='LG TV', price=400.00}
06-07-2020 18:00:58.947 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:00:58.947 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> insert into items(sku,item_description,price) values('101','LG TV',400.00)
06-07-2020 18:00:58.954 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 18:01:18.999 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:19.000 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:19.000 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='UPDATE', sku='101', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:19.000 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:01:19.000 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> update items set price=800.00 where sku='101'
06-07-2020 18:01:19.018 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
06-07-2020 18:01:45.584 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Unmarshelled -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:45.585 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log -  Record is Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:45.586 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Item is -> Item{transactionType='DELETE', sku='100', itemDescription='Samsung TV', price=800.00}
06-07-2020 18:01:45.586 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process -  Status: false
06-07-2020 18:01:45.586 [Camel (camel-1) thread #1 - timer://myTimer] INFO  i.a.l.c.processor.BuildSQLProcessor.process - Final Query -> delete from items where sku='100'
06-07-2020 18:01:45.602 [Camel (camel-1) thread #1 - timer://myTimer] INFO  route1.log - Timer invoked and the message is DEV Environment
